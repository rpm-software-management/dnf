

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dnf.yum Reference &mdash; DNF 0.2.11-1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2.11-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="DNF 0.2.11-1 documentation" href="index.html" />
    <link rel="up" title="DNF API Reference" href="api.html" />
    <link rel="next" title="dnf.rpmUtils Reference" href="api_dnf.rpmUtils.html" />
    <link rel="prev" title="dnf Reference" href="api_dnf.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api_dnf.rpmUtils.html" title="dnf.rpmUtils Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api_dnf.html" title="dnf Reference"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">DNF 0.2.11-1 documentation</a> &raquo;</li>
          <li><a href="api.html" accesskey="U">DNF API Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="dnf-yum-reference">
<h1><a class="toc-backref" href="#id1">dnf.yum Reference</a><a class="headerlink" href="#dnf-yum-reference" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dnf-yum-reference" id="id1">dnf.yum Reference</a><ul>
<li><a class="reference internal" href="#module-dnf.yum" id="id2">dnf.yum</a></li>
<li><a class="reference internal" href="#module-dnf.yum.callbacks" id="id3">dnf.yum.callbacks</a></li>
<li><a class="reference internal" href="#module-dnf.yum.comps" id="id4">dnf.yum.comps</a></li>
<li><a class="reference internal" href="#module-dnf.yum.config" id="id5">dnf.yum.config</a></li>
<li><a class="reference internal" href="#module-dnf.yum.constants" id="id6">dnf.constants</a></li>
<li><a class="reference internal" href="#module-dnf.yum.Errors" id="id7">dnf.yum.Errors</a></li>
<li><a class="reference internal" href="#module-dnf.yum.failover" id="id8">dnf.yum.failover</a></li>
<li><a class="reference internal" href="#module-dnf.yum.history" id="id9">dnf.yum.history</a></li>
<li><a class="reference internal" href="#module-dnf.yum.i18n" id="id10">dnf.yum.i18n</a></li>
<li><a class="reference internal" href="#module-dnf.yum.logginglevels" id="id11">dnf.yum.logginglevels</a></li>
<li><a class="reference internal" href="#module-dnf.yum.mdparser" id="id12">dnf.yum.mdparser</a></li>
<li><a class="reference internal" href="#module-dnf.yum.metalink" id="id13">dnf.yum.metalink</a></li>
<li><a class="reference internal" href="#module-dnf.yum.misc" id="id14">dnf.yum.misc</a></li>
<li><a class="reference internal" href="#module-dnf.yum.packages" id="id15">dnf.yum.packages</a></li>
<li><a class="reference internal" href="#module-dnf.yum.parser" id="id16">dnf.yum.parser</a></li>
<li><a class="reference internal" href="#module-dnf.yum.pgpmsg" id="id17">dnf.yum.pgpmsg</a></li>
<li><a class="reference internal" href="#module-dnf.yum.pkgtag_db" id="id18">dnf.yum.pkgtag_db</a></li>
<li><a class="reference internal" href="#module-dnf.yum.plugins" id="id19">dnf.yum.plugins</a></li>
<li><a class="reference internal" href="#module-dnf.yum.repoMDObject" id="id20">dnf.yum.repoMDObject</a></li>
<li><a class="reference internal" href="#module-dnf.yum.repos" id="id21">dnf.yum.repos</a></li>
<li><a class="reference internal" href="#module-dnf.yum.rpmsack" id="id22">dnf.yum.rpmsack</a></li>
<li><a class="reference internal" href="#module-dnf.yum.rpmtrans" id="id23">dnf.yum.rpmtrans</a></li>
<li><a class="reference internal" href="#module-dnf.yum.sqlutils" id="id24">dnf.yum.sqlutils</a></li>
<li><a class="reference internal" href="#module-dnf.yum.transactioninfo" id="id25">dnf.yum.transactioninfo</a></li>
<li><a class="reference internal" href="#module-dnf.yum.update_md" id="id26">dnf.yum.update_md</a></li>
<li><a class="reference internal" href="#module-dnf.yum.yumRepo" id="id27">dnf.yum.yumRepo</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="module-dnf.yum">
<span id="dnf-yum"></span><h2><a class="toc-backref" href="#id2">dnf.yum</a><a class="headerlink" href="#module-dnf.yum" title="Permalink to this headline">¶</a></h2>
<p>The Yum RPM software updater.</p>
<dl class="class">
<dt id="dnf.yum.YumBase">
<em class="property">class </em><tt class="descclassname">dnf.yum.</tt><tt class="descname">YumBase</tt><a class="headerlink" href="#dnf.yum.YumBase" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a primary structure and base class. It houses the
objects and methods needed to perform most things in yum. It is
almost an abstract class in that you will need to add your own
class above it for most real use.</p>
<dl class="method">
<dt id="dnf.yum.YumBase.add_enable_repo">
<tt class="descname">add_enable_repo</tt><big>(</big><em>repoid</em>, <em>baseurls=</em><span class="optional">[</span><span class="optional">]</span>, <em>mirrorlist=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.add_enable_repo" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and enable a repository.</p>
<p>Never used in yum/:hawkey (only plugins).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>repoid</strong> &#8211; a string specifying the name of the repository</li>
<li><strong>baseurls</strong> &#8211; a list of strings specifying the urls for
the repository.  At least one base url, or one mirror, must
be given</li>
<li><strong>mirrorlist</strong> &#8211; a list of strings specifying a list of
mirrors for the repository.  At least one base url, or one
mirror must be given</li>
<li><strong>kwargs</strong> &#8211; key word arguments to set any normal repository
attribute</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the new repository that has been added and enabled</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.allowedMultipleInstalls">
<tt class="descname">allowedMultipleInstalls</tt><big>(</big><em>po</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.allowedMultipleInstalls" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether the given package object can be installed
multiple times with different versions.  For example, this
would be true of kernels and kernel modules.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>po</strong> &#8211; the package object that this function will
determine whether can be install multiple times</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a boolean specifying whether <em>po</em> can be installed
multiple times</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.bestPackagesFromList">
<tt class="descname">bestPackagesFromList</tt><big>(</big><em>pkglist</em>, <em>arch=None</em>, <em>single_name=False</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.bestPackagesFromList" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the best packages from a list of packages.  This
function is multilib aware, so that it will not compare
multilib to singlelib packages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pkglist</strong> &#8211; the list of packages to return the best
packages from</li>
<li><strong>arch</strong> &#8211; packages will be selected that are compatible
with the architecture specified by <em>arch</em></li>
<li><strong>single_name</strong> &#8211; whether to return a single package name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of the best packages from <em>pkglist</em></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.buildTransaction">
<tt class="descname">buildTransaction</tt><big>(</big><em>unfinished_transactions_check=True</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.buildTransaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Go through the packages in the transaction set, find them
in the packageSack or rpmdb, and pack up the transaction set
accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unfinished_transactions_check</strong> &#8211; whether to check for
unfinished transactions before building the new transaction</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.cleanExpireCache">
<tt class="descname">cleanExpireCache</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.cleanExpireCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the local data saying when the metadata and mirror
lists were downloaded for each repository.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.cleanHeaders">
<tt class="descname">cleanHeaders</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.cleanHeaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the header files from the yum cache.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.cleanMetadata">
<tt class="descname">cleanMetadata</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.cleanMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the metadata files from the yum cache.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.cleanPackages">
<tt class="descname">cleanPackages</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.cleanPackages" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the package files from the yum cache.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.cleanRpmDB">
<tt class="descname">cleanRpmDB</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.cleanRpmDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete any cached data from the local rpmdb.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.cleanSqlite">
<tt class="descname">cleanSqlite</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.cleanSqlite" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the sqlite files from the yum cache.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.cleanUsedHeadersPackages">
<tt class="descname">cleanUsedHeadersPackages</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.cleanUsedHeadersPackages" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the header and package files used in the
transaction from the yum cache.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the history and repo objects.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.closeRpmDB">
<tt class="descname">closeRpmDB</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.closeRpmDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes down the instances of rpmdb that could be open.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.YumBase.comps">
<tt class="descname">comps</tt><a class="headerlink" href="#dnf.yum.YumBase.comps" title="Permalink to this definition">¶</a></dt>
<dd><p>Yum Component/groups object</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.YumBase.conf">
<tt class="descname">conf</tt><a class="headerlink" href="#dnf.yum.YumBase.conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Yum Config Object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.costExcludePackages">
<tt class="descname">costExcludePackages</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.costExcludePackages" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an excluder for repositories with higher costs. For
example, if repo-A:cost=1 and repo-B:cost=2, this function
will set up an excluder on repo-B that looks for packages in
repo-B.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.deselectGroup">
<tt class="descname">deselectGroup</tt><big>(</big><em>grpid</em>, <em>force=False</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.deselectGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmark the packages in the given group from being
installed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>grpid</strong> &#8211; the name of the group containing the packages to
unmark from installation</li>
<li><strong>force</strong> &#8211; if True, force remove all the packages in the
given group from the transaction</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.disablePlugins">
<tt class="descname">disablePlugins</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.disablePlugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable yum plugins.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.doGenericSetup">
<tt class="descname">doGenericSetup</tt><big>(</big><em>cache=0</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.doGenericSetup" title="Permalink to this definition">¶</a></dt>
<dd><p>Do a default setup for all the normal or necessary yum
components.  This function is really just a shorthand for
testing purposes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cache</strong> &#8211; whether to run in cache only mode, which will
run only from the system cache</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.doGroupLists">
<tt class="descname">doGroupLists</tt><big>(</big><em>uservisible=0</em>, <em>patterns=None</em>, <em>ignore_case=True</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.doGroupLists" title="Permalink to this definition">¶</a></dt>
<dd><p>Return two lists of groups: installed groups and available
groups.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uservisible</strong> &#8211; If True, only groups marked as uservisible
will be returned. Otherwise, all groups will be returned</li>
<li><strong>patterns</strong> &#8211; a list of stings.  If given, only groups
with names that match the patterns will be included in the
lists.  If not given, all groups will be included</li>
<li><strong>ignore_case</strong> &#8211; whether to ignore case when determining
whether group names match the strings in <em>patterns</em></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.doLock">
<tt class="descname">doLock</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.doLock" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquire the yum lock.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lockfile</strong> &#8211; the file to use for the lock</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">Errors.LockError</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.doLoggingSetup">
<tt class="descname">doLoggingSetup</tt><big>(</big><em>debuglevel</em>, <em>errorlevel</em>, <em>syslog_ident=None</em>, <em>syslog_facility=None</em>, <em>syslog_device='/dev/log'</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.doLoggingSetup" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform logging related setup.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>debuglevel</strong> &#8211; the minimum debug logging level to output
messages from</li>
<li><strong>errorlevel</strong> &#8211; the minimum error logging level to output
messages from</li>
<li><strong>syslog_ident</strong> &#8211; the ident of the syslog to use</li>
<li><strong>syslog_facility</strong> &#8211; the name of the syslog facility to use</li>
<li><strong>syslog_device</strong> &#8211; the syslog device to use</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.doPackageLists">
<tt class="descname">doPackageLists</tt><big>(</big><em>pkgnarrow='all'</em>, <em>patterns=None</em>, <em>showdups=None</em>, <em>ignore_case=False</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.doPackageLists" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#dnf.yum.misc.GenericHolder" title="dnf.yum.misc.GenericHolder"><tt class="xref py py-class docutils literal"><span class="pre">misc.GenericHolder</span></tt></a> containing
lists of package objects.  The contents of the lists are
specified in various ways by the arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pkgnarrow</strong> &#8211; a string specifying which types of packages
lists to produces, such as updates, installed, available,
etc.</li>
<li><strong>patterns</strong> &#8211; a list of names or wildcards specifying
packages to list</li>
<li><strong>showdups</strong> &#8211; whether to include duplicate packages in the
lists</li>
<li><strong>ignore_case</strong> &#8211; whether to ignore case when searching by
package names</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>a <a class="reference internal" href="#dnf.yum.misc.GenericHolder" title="dnf.yum.misc.GenericHolder"><tt class="xref py py-class docutils literal"><span class="pre">misc.GenericHolder</span></tt></a> instance with the
following lists defined:</p>
<div class="highlight-python"><pre>available = list of packageObjects
installed = list of packageObjects
updates = tuples of packageObjects (updating, installed)
extras = list of packageObjects
obsoletes = tuples of packageObjects (obsoleting, installed)
recent = list of packageObjects</pre>
</div>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.doPluginSetup">
<tt class="descname">doPluginSetup</tt><big>(</big><em>optparser=None</em>, <em>plugin_types=None</em>, <em>searchpath=None</em>, <em>confpath=None</em>, <em>disabled_plugins=None</em>, <em>enabled_plugins=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.doPluginSetup" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise and enable yum plugins.
Note: _getConfig() will also initialise plugins if instructed
to. Only call this method directly if not calling _getConfig()
or calling doConfigSetup(init_plugins=False).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>optparser</strong> &#8211; the <tt class="xref py py-class docutils literal"><span class="pre">OptionParser</span></tt> instance to use
for this run</li>
<li><strong>plugin_types</strong> &#8211; a sequence specifying the types of plugins to load.
This should be a sequence containing one or more of the
plugins.TYPE_*  constants. If None (the default), all plugins
will be loaded</li>
<li><strong>searchpath</strong> &#8211; a list of directories to look in for plugins. A
default will be used if no value is specified</li>
<li><strong>confpath</strong> &#8211; a list of directories to look in for plugin
configuration files. A default will be used if no value is
specified</li>
<li><strong>disabled_plugins</strong> &#8211; a list of plugins to be disabled</li>
<li><strong>enabled_plugins</strong> &#8211; a list plugins to be enabled</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.doUnlock">
<tt class="descname">doUnlock</tt><big>(</big><em>lockfile=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.doUnlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Release the yum lock.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lockfile</strong> &#8211; the lock file to use.  If not given, the file
that was given as a parameter to the <a class="reference internal" href="#dnf.yum.YumBase.doLock" title="dnf.yum.YumBase.doLock"><tt class="xref py py-func docutils literal"><span class="pre">doLock()</span></tt></a> call
that closed the lock is used</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.downgrade">
<tt class="descname">downgrade</tt><big>(</big><em>po=None</em>, <em>pattern=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.downgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark a package to be downgraded.  This is equivalent to
first removing the currently installed package, and then
installing the older version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>po</strong> &#8211; the package object to be marked to be downgraded</li>
<li><strong>kwargs</strong> &#8211; if a package object is not given, the keyword
arguments will be used to specify a package to be marked to
be downgraded</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a list of the transaction members added to the
transaction set by this method</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">Errors.DowngradeError</span></tt> if no packages are
specified or available for downgrade</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.downgrade_local">
<tt class="descname">downgrade_local</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.downgrade_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark a package on the local filesystem (i.e. not from a
repository) to be downgraded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pkg</strong> &#8211; a string specifying the path to an rpm file in the
local filesystem to be marked to be downgraded</li>
<li><strong>po</strong> &#8211; a <a class="reference internal" href="#dnf.yum.packages.YumLocalPackage" title="dnf.yum.packages.YumLocalPackage"><tt class="xref py py-class docutils literal"><span class="pre">packages.YumLocalPackage</span></tt></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of the transaction members added to the
transaction set by this method</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.downloadHeader">
<tt class="descname">downloadHeader</tt><big>(</big><em>po</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.downloadHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a header from a package object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>po</strong> &#8211; the package object to download the header from</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">Errors.RepoError</span></tt> if there are errors
obtaining the header</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.downloadPkgs">
<tt class="descname">downloadPkgs</tt><big>(</big><em>pkglist</em>, <em>callback=None</em>, <em>callback_total=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.downloadPkgs" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the packages specified by the given list of
package objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pkglist</strong> &#8211; a list of package objects specifying the
packages to download</li>
<li><strong>callback</strong> &#8211; unused</li>
<li><strong>callback_total</strong> &#8211; a callback to output messages about the
download operation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a dictionary containing errors from the downloading process</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">URLGrabError</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.excludePackages">
<tt class="descname">excludePackages</tt><big>(</big><em>repo=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.excludePackages" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove packages from packageSacks based on global exclude
lists, command line excludes and per-repository excludes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>repo</strong> &#8211; a repo object to use.  If not given, all
repositories are used</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.findDeps">
<tt class="descname">findDeps</tt><big>(</big><em>pkgs</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.findDeps" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dependencies for a given package object list, as well
as possible solutions for those dependencies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkgs</strong> &#8211; a list of package objects</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the dependencies as a dictionary of dictionaries:
packageobject = [reqs] = [list of satisfying pkgs]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.getCAKeyForRepo">
<tt class="descname">getCAKeyForRepo</tt><big>(</big><em>repo</em>, <em>callback=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.getCAKeyForRepo" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a key for a repository.  If needed, use the given
callback to prompt whether the key should be imported.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>repo</strong> &#8211; repository object to retrieve the key of</li>
<li><strong>callback</strong> &#8211; callback function to use for asking for
verification of key information</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.getInstalledPackageObject">
<tt class="descname">getInstalledPackageObject</tt><big>(</big><em>pkgtup</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.getInstalledPackageObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <a class="reference internal" href="#dnf.yum.packages.YumInstalledPackage" title="dnf.yum.packages.YumInstalledPackage"><tt class="xref py py-class docutils literal"><span class="pre">packages.YumInstalledPackage</span></tt></a> object that
corresponds to the given package tuple.  This function should
be used instead of <tt class="xref py py-func docutils literal"><span class="pre">searchPkgTuple()</span></tt> if you are assuming
that the package object exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pkgtup</strong> &#8211; the package tuple specifying the package object
to return</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a <a class="reference internal" href="#dnf.yum.packages.YumInstalledPackage" title="dnf.yum.packages.YumInstalledPackage"><tt class="xref py py-class docutils literal"><span class="pre">packages.YumInstalledPackage</span></tt></a> object corresponding
to the given package tuple</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body">a <tt class="xref py py-class docutils literal"><span class="pre">Errors.RpmDBError</span></tt> if the specified package
object cannot be found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.getKeyForPackage">
<tt class="descname">getKeyForPackage</tt><big>(</big><em>po</em>, <em>askcb=None</em>, <em>fullaskcb=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.getKeyForPackage" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a key for a package. If needed, use the given
callback to prompt whether the key should be imported.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>po</strong> &#8211; the package object to retrieve the key of</li>
<li><strong>askcb</strong> &#8211; Callback function to use to ask permission to
import a key.  The arguments <em>askck</em> should take are the
package object, the userid of the key, and the keyid</li>
<li><strong>fullaskcb</strong> &#8211; Callback function to use to ask permission to
import a key.  This differs from <em>askcb</em> in that it gets
passed a dictionary so that we can expand the values passed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><a class="reference internal" href="#dnf.yum.Errors.YumBaseError" title="dnf.yum.Errors.YumBaseError"><tt class="xref py py-class docutils literal"><span class="pre">Errors.YumBaseError</span></tt></a> if there are errors
retrieving the keys</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.getKeyForRepo">
<tt class="descname">getKeyForRepo</tt><big>(</big><em>repo</em>, <em>callback=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.getKeyForRepo" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a key for a repository.  If needed, use the given
callback to prompt whether the key should be imported.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>repo</strong> &#8211; repository object to retrieve the key of</li>
<li><strong>callback</strong> &#8211; callback function to use for asking for
verification of key information</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.getPackageObject">
<tt class="descname">getPackageObject</tt><big>(</big><em>pkgtup</em>, <em>allow_missing=False</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.getPackageObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a package object that corresponds to the given
package tuple.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pkgtup</strong> &#8211; the package tuple specifying the package object
to return</li>
<li><strong>allow_missing</strong> &#8211; If no package corresponding to the given
package tuple can be found, None is returned if
<em>allow_missing</em> is True, and a <tt class="xref py py-class docutils literal"><span class="pre">Errors.DepError</span></tt> is
raised if <em>allow_missing</em> is False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a package object corresponding to the given package tuple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last">a <tt class="xref py py-class docutils literal"><span class="pre">Errors.DepError</span></tt> if no package
corresponding to the given package tuple can be found, and
<em>allow_missing</em> is False</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.getReposFromConfig">
<tt class="descname">getReposFromConfig</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.getReposFromConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in repositories from the main yum conf file, and from
.repo files.  The location of the main yum conf file is given
by self.conf.config_file_path, and the location of the
directory of .repo files is given by self.conf.reposdir.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.getReposFromConfigFile">
<tt class="descname">getReposFromConfigFile</tt><big>(</big><em>repofn</em>, <em>repo_age=None</em>, <em>validate=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.getReposFromConfigFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in repositories from a config .repo file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>repofn</strong> &#8211; a string specifying the path of the .repo file
to read</li>
<li><strong>repo_age</strong> &#8211; the last time that the .repo file was
modified, in seconds since the epoch</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.gpgKeyCheck">
<tt class="descname">gpgKeyCheck</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.gpgKeyCheck" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for the presence of GPG keys in the rpmdb.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">0 if there are no GPG keys in the rpmdb, and 1 if
there are keys</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.groupRemove">
<tt class="descname">groupRemove</tt><big>(</big><em>grpid</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.groupRemove" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark all the packages in the given group to be removed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>grpid</strong> &#8211; the name of the group containing the packages to
mark for removal</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of transaction members added to the
transaction set by this function</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.groupUnremove">
<tt class="descname">groupUnremove</tt><big>(</big><em>grpid</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.groupUnremove" title="Permalink to this definition">¶</a></dt>
<dd><p>Unmark any packages in the given group from being removed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>grpid</strong> &#8211; the name of the group to unmark the packages of</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.YumBase.history">
<tt class="descname">history</tt><a class="headerlink" href="#dnf.yum.YumBase.history" title="Permalink to this definition">¶</a></dt>
<dd><p>Yum History Object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.history_redo">
<tt class="descname">history_redo</tt><big>(</big><em>transaction</em>, <em>force_reinstall=False</em>, <em>force_changed_removal=False</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.history_redo" title="Permalink to this definition">¶</a></dt>
<dd><p>Repeat the transaction represented by the given
<a class="reference internal" href="#dnf.yum.history.YumHistoryTransaction" title="dnf.yum.history.YumHistoryTransaction"><tt class="xref py py-class docutils literal"><span class="pre">history.YumHistoryTransaction</span></tt></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>transaction</strong> &#8211; a
<a class="reference internal" href="#dnf.yum.history.YumHistoryTransaction" title="dnf.yum.history.YumHistoryTransaction"><tt class="xref py py-class docutils literal"><span class="pre">history.YumHistoryTransaction</span></tt></a> object
representing the transaction to be repeated</li>
<li><strong>force_reinstall</strong> &#8211; bool - do we want to reinstall anything that was
installed/updated/downgraded/etc.</li>
<li><strong>force_changed_removal</strong> &#8211; bool - do we want to force remove anything
that was downgraded or upgraded.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">whether the transaction was repeated successfully</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.history_undo">
<tt class="descname">history_undo</tt><big>(</big><em>transaction</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.history_undo" title="Permalink to this definition">¶</a></dt>
<dd><p>Undo the transaction represented by the given
<a class="reference internal" href="#dnf.yum.history.YumHistoryTransaction" title="dnf.yum.history.YumHistoryTransaction"><tt class="xref py py-class docutils literal"><span class="pre">history.YumHistoryTransaction</span></tt></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>transaction</strong> &#8211; a
<a class="reference internal" href="#dnf.yum.history.YumHistoryTransaction" title="dnf.yum.history.YumHistoryTransaction"><tt class="xref py py-class docutils literal"><span class="pre">history.YumHistoryTransaction</span></tt></a> object
representing the transaction to be undone</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">whether the transaction was undone successfully</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.includePackages">
<tt class="descname">includePackages</tt><big>(</big><em>repo</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.includePackages" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove packages from packageSacks based on list of
packages to include.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>repo</strong> &#8211; the repository to use</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.initActionTs">
<tt class="descname">initActionTs</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.initActionTs" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the transaction set that will be used for all the work.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.install">
<tt class="descname">install</tt><big>(</big><em>po=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.install" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the specified item for installation.  If a package
object is given, mark it for installation.  Otherwise, mark
the best package specified by the key word arguments for
installation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>po</strong> &#8211; a package object to install</li>
<li><strong>kwargs</strong> &#8211; if <em>po</em> is not specified, these keyword
arguments will be used to find the best package to install</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a list of the transaction members added to the
transaction set by this function</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">Errors.InstallError</span></tt> if there is a problem
installing the package</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.install_local">
<tt class="descname">install_local</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.install_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark a package on the local filesystem (i.e. not from a
repository) for installation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pkg</strong> &#8211; a string specifying the path to an rpm file in the
local filesystem to be marked for installation</li>
<li><strong>po</strong> &#8211; a <a class="reference internal" href="#dnf.yum.packages.YumLocalPackage" title="dnf.yum.packages.YumLocalPackage"><tt class="xref py py-class docutils literal"><span class="pre">packages.YumLocalPackage</span></tt></a></li>
<li><strong>updateonly</strong> &#8211; if True, the given package will only be
marked for installation if it is an upgrade for a package
that is already installed.  If False, this restriction is
not enforced</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of the transaction members added to the
transaction set by this method</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.load_ts">
<tt class="descname">load_ts</tt><big>(</big><em>filename</em>, <em>ignorerpm=None</em>, <em>ignoremissing=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.load_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a transaction from a .yumtx file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> &#8211; the name of the file to load the transaction
from</li>
<li><strong>ignorerpm</strong> &#8211; whether to ignore messages from rpm</li>
<li><strong>ignoremissing</strong> &#8211; whether to ignore that there may be
transaction members missing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the members of the loaded transaction</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><a class="reference internal" href="#dnf.yum.Errors.YumBaseError" title="dnf.yum.Errors.YumBaseError"><tt class="xref py py-class docutils literal"><span class="pre">Errors.YumBaseError</span></tt></a> if there are problems
loading the transaction</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.YumBase.pkgtags">
<tt class="descname">pkgtags</tt><a class="headerlink" href="#dnf.yum.YumBase.pkgtags" title="Permalink to this definition">¶</a></dt>
<dd><p>Yum Package Tags Object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.populateTs">
<tt class="descname">populateTs</tt><big>(</big><em>test=0</em>, <em>keepold=1</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.populateTs" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate the transaction set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>test</strong> &#8211; unused</li>
<li><strong>keepold</strong> &#8211; whether to keep old packages</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.processTransaction">
<tt class="descname">processTransaction</tt><big>(</big><em>callback=None</em>, <em>rpmTestDisplay=None</em>, <em>rpmDisplay=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.processTransaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the current transaction.  This involves the following steps:
- Download the packages
- Check the GPG signatures of the packages
- Run the test RPM transaction
- Run the RPM Transaction
The <em>callback</em>.event method is called at the start, and
between each step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>callback</strong> &#8211; a callback object, which must have an event
method</li>
<li><strong>rpmTestDisplay</strong> &#8211; name of the display class to use in the
RPM test transaction</li>
<li><strong>rpmDisplay</strong> &#8211; name of the display class to use in the rpm
transaction</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.readRepoConfig">
<tt class="descname">readRepoConfig</tt><big>(</big><em>parser</em>, <em>section</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.readRepoConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse an INI file section for a repository.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parser</strong> &#8211; <tt class="xref py py-class docutils literal"><span class="pre">ConfigParser</span></tt> or similar object to read
INI file values from</li>
<li><strong>section</strong> &#8211; INI file section to read</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#dnf.yum.yumRepo.YumRepository" title="dnf.yum.yumRepo.YumRepository"><tt class="xref py py-class docutils literal"><span class="pre">yumRepo.YumRepository</span></tt></a> instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.reinstall">
<tt class="descname">reinstall</tt><big>(</big><em>po=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.reinstall" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the given package for reinstallation.  This is
accomplished by setting problem filters to allow a reinstall
take place, then calling <a class="reference internal" href="#dnf.yum.YumBase.install" title="dnf.yum.YumBase.install"><tt class="xref py py-func docutils literal"><span class="pre">install()</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>po</strong> &#8211; the package object to mark for reinstallation</li>
<li><strong>kwargs</strong> &#8211; if po is not given, the keyword will be used to
specify a package for reinstallation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a list of the transaction members added to the
transaction set by this method</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">Errors.ReinstallRemoveError</span></tt> or
<tt class="xref py py-class docutils literal"><span class="pre">Errors.ReinstallInstallError</span></tt> depending the nature
of the error that is encountered</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.reinstallLocal">
<tt class="descname">reinstallLocal</tt><big>(</big><em>pkg</em>, <em>po=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.reinstallLocal" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark a package on the local filesystem (i.e. not from a
repository) for reinstallation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pkg</strong> &#8211; a string specifying the path to an rpm file in the
local filesystem to be marked for reinstallation</li>
<li><strong>po</strong> &#8211; a <a class="reference internal" href="#dnf.yum.packages.YumLocalPackage" title="dnf.yum.packages.YumLocalPackage"><tt class="xref py py-class docutils literal"><span class="pre">packages.YumLocalPackage</span></tt></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of the transaction members added to the
transaction set by this method</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.remove">
<tt class="descname">remove</tt><big>(</big><em>po=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the specified packages for removal. If a package
object is given, mark it for removal.  Otherwise, mark the
package specified by the keyword arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>po</strong> &#8211; the package object to mark for installation</li>
<li><strong>kwargs</strong> &#8211; If <em>po</em> is not given, the keyword arguments
will be used to specify a package to mark for installation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a list of the transaction members that were added to
the transaction set by this method</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">Errors.RemoveError</span></tt> if nothing is specified
to mark for removal</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.YumBase.repos">
<tt class="descname">repos</tt><a class="headerlink" href="#dnf.yum.YumBase.repos" title="Permalink to this definition">¶</a></dt>
<dd><p>Repo Storage object - object of yum repositories</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.returnInstalledPackageByDep">
<tt class="descname">returnInstalledPackageByDep</tt><big>(</big><em>depstring</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.returnInstalledPackageByDep" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the best, or first, installed package object that provides the
given dependencies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>depstring</strong> &#8211; a string specifying the dependency to return
the package that fulfils</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the best, or first, installed package that fulfils the given
dependency</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body">a <a class="reference internal" href="#dnf.yum.Errors.YumBaseError" title="dnf.yum.Errors.YumBaseError"><tt class="xref py py-class docutils literal"><span class="pre">Errors.YumBaseError</span></tt></a> if no packages that
fulfil the given dependency can be found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.returnInstalledPackagesByDep">
<tt class="descname">returnInstalledPackagesByDep</tt><big>(</big><em>depstring</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.returnInstalledPackagesByDep" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of installed package objects that provide the
given dependencies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>depstring</strong> &#8211; a string specifying the dependency to return
the packages that fulfil</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of installed packages that fulfil the given
dependency</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.returnPackageByDep">
<tt class="descname">returnPackageByDep</tt><big>(</big><em>depstring</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.returnPackageByDep" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the best, or first, package object that provides the
given dependencies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>depstring</strong> &#8211; a string specifying the dependency to return
the package that fulfils</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the best, or first, package that fulfils the given
dependency</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body">a <a class="reference internal" href="#dnf.yum.Errors.YumBaseError" title="dnf.yum.Errors.YumBaseError"><tt class="xref py py-class docutils literal"><span class="pre">Errors.YumBaseError</span></tt></a> if no packages that
fulfil the given dependency can be found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.returnPackagesByDep">
<tt class="descname">returnPackagesByDep</tt><big>(</big><em>depstring</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.returnPackagesByDep" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of package objects that provide the given
dependencies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>depstring</strong> &#8211; a string specifying the dependency to return
the packages that fulfil</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of packages that fulfil the given dependency</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.runTransaction">
<tt class="descname">runTransaction</tt><big>(</big><em>cb</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.runTransaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the transaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cb</strong> &#8211; an rpm callback object to use in the transaction</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a <a class="reference internal" href="#dnf.yum.misc.GenericHolder" title="dnf.yum.misc.GenericHolder"><tt class="xref py py-class docutils literal"><span class="pre">misc.GenericHolder</span></tt></a> containing
information about the results of the transaction</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><a class="reference internal" href="#dnf.yum.Errors.YumRPMTransError" title="dnf.yum.Errors.YumRPMTransError"><tt class="xref py py-class docutils literal"><span class="pre">Errors.YumRPMTransError</span></tt></a> if there is a
transaction cannot be completed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.save_ts">
<tt class="descname">save_ts</tt><big>(</big><em>filename=None</em>, <em>auto=False</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.save_ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Save out a transaction to a .yumtx file to be loaded later.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> &#8211; the name of the file to save the transaction
in.  If <em>filename</em> is not given, a name will be generated</li>
<li><strong>auto</strong> &#8211; whether to output errors to the logger, rather
than raising exceptions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><a class="reference internal" href="#dnf.yum.Errors.YumBaseError" title="dnf.yum.Errors.YumBaseError"><tt class="xref py py-class docutils literal"><span class="pre">Errors.YumBaseError</span></tt></a> if there are errors
saving the transaction</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.searchGenerator">
<tt class="descname">searchGenerator</tt><big>(</big><em>fields</em>, <em>criteria</em>, <em>showdups=True</em>, <em>keys=False</em>, <em>searchtags=True</em>, <em>searchrpmdb=True</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.searchGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield the packages that match the given search criteria.
This generator method will lighten memory load for some
searches, and is the preferred search function to use.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fields</strong> &#8211; the fields to search</li>
<li><strong>criteria</strong> &#8211; a list of strings specifying the criteria to
search for</li>
<li><strong>showdups</strong> &#8211; whether to yield duplicate packages from
different repositories</li>
<li><strong>keys</strong> &#8211; setting <em>keys</em> to True will use the search keys
that matched in the sorting, and return the search keys in
the results</li>
<li><strong>searchtags</strong> &#8211; whether to search the package tags</li>
<li><strong>searchrpmdb</strong> &#8211; whether to search the rmpdb</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.searchPackageProvides">
<tt class="descname">searchPackageProvides</tt><big>(</big><em>args</em>, <em>callback=None</em>, <em>callback_has_matchfor=False</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.searchPackageProvides" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for and return a list package objects that provide
the given files or features.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>args</strong> &#8211; a list of strings specifying the files and
features to search for the packages that provide</li>
<li><strong>callback</strong> &#8211; a callback function to print out the results
as they are found</li>
<li><strong>callback_has_matchfor</strong> &#8211; whether the callback function
will accept a list of strings to highlight in its output.
If this is true, <em>args</em> will be passed to <em>callback</em> so
that the files or features that were searched for can be
highlighted</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.searchPackageTags">
<tt class="descname">searchPackageTags</tt><big>(</big><em>criteria</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.searchPackageTags" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for and return a list packages that have tags
matching the given criteria.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>criteria</strong> &#8211; a list of strings specifying the criteria to
search for</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of package objects that have tags matching the
given criteria</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.selectGroup">
<tt class="descname">selectGroup</tt><big>(</big><em>grpid</em>, <em>group_package_types=</em><span class="optional">[</span><span class="optional">]</span>, <em>enable_group_conditionals=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.selectGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark all the packages in the given group to be installed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>grpid</strong> &#8211; the name of the group containing the packages to
mark for installation</li>
<li><strong>group_package_types</strong> &#8211; a list of the types of groups to
work with.  This overrides self.conf.group_package_types</li>
<li><strong>enable_group_conditionals</strong> &#8211; overrides
self.conf.enable_group_conditionals</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of transaction members added to the
transaction set by this function</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.sigCheckPkg">
<tt class="descname">sigCheckPkg</tt><big>(</big><em>po</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.sigCheckPkg" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the GPG signature of the given package object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>po</strong> &#8211; the package object to verify the signature of</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">(result, error_string)
where result is:<div class="highlight-python"><pre>0 = GPG signature verifies ok or verification is not required.
1 = GPG verification failed but installation of the right GPG key
      might help.
2 = Fatal GPG verification error, give up.</pre>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.YumBase.ts">
<tt class="descname">ts</tt><a class="headerlink" href="#dnf.yum.YumBase.ts" title="Permalink to this definition">¶</a></dt>
<dd><p>TransactionSet object</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.YumBase.tsInfo">
<tt class="descname">tsInfo</tt><a class="headerlink" href="#dnf.yum.YumBase.tsInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Transaction Set information object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.update">
<tt class="descname">update</tt><big>(</big><em>po=None</em>, <em>requiringPo=None</em>, <em>update_to=False</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the specified items to be updated.  If a package
object is given, mark it.  Else, if a package is specified by
the keyword arguments, mark it.  Finally, if nothing is given,
mark all installed packages to be updated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>po</strong> &#8211; the package object to be marked for updating</li>
<li><strong>requiringPo</strong> &#8211; the package object that requires the
upgrade</li>
<li><strong>update_to</strong> &#8211; <p>if <em>update_to</em> is True, the update will only
be run if it will update the given package to the given
version.  For example, if the package foo-1-2 is installed,:</p>
<div class="highlight-python"><pre>updatePkgs(["foo-1-2], update_to=False)</pre>
</div>
<p>will work identically to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">updatePkgs</span><span class="p">([</span><span class="s">&quot;foo&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>but:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">updatePkgs</span><span class="p">([</span><span class="s">&quot;foo-1-2&quot;</span><span class="p">],</span> <span class="n">update_to</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>will do nothing</p>
</li>
<li><strong>kwargs</strong> &#8211; if <em>po</em> is not given, the names or wildcards in
<em>kwargs</em> will be used to find the packages to update</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a list of transaction members added to the
transaction set by this function</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.verifyChecksum">
<tt class="descname">verifyChecksum</tt><big>(</big><em>fo</em>, <em>checksumType</em>, <em>csum</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.verifyChecksum" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that the checksum of the given file matches the
given checksum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fo</strong> &#8211; the file object to verify the checksum of</li>
<li><strong>checksumType</strong> &#8211; the type of checksum to use</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parm csum:</th><td class="field-body"><p class="first">the checksum to check against</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">0 if the checksums match</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">URLGrabError</span></tt> if there is an error performing
the checksums, or the checksums do not match</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.verifyHeader">
<tt class="descname">verifyHeader</tt><big>(</big><em>fo</em>, <em>po</em>, <em>raiseError</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.verifyHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the header of the given file object and matches
the given package.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fo</strong> &#8211; the file object to check</li>
<li><strong>po</strong> &#8211; the package object to check</li>
<li><strong>raiseError</strong> &#8211; if <em>raiseError</em> is True, a
<tt class="xref py py-class docutils literal"><span class="pre">URLGrabError</span></tt> will be raised if the header matches
the package object, or cannot be read from the file.  If
<em>raiseError</em> is False, 0 will be returned in the above
cases</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">1 if the header matches the package object, and 0 if
they do not match, and <em>raiseError</em> is False</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">URLGrabError</span></tt> if <em>raiseError</em> is True, and
the header does not match the package object or cannot be
read from the file</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.verifyPkg">
<tt class="descname">verifyPkg</tt><big>(</big><em>fo</em>, <em>po</em>, <em>raiseError</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.verifyPkg" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the checksum of a remote package matches what we
expect it to be.  If the checksum of the package file is
wrong, and the file is also larger than expected, it cannot be
redeemed, so delete it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fo</strong> &#8211; the file object of the package</li>
<li><strong>po</strong> &#8211; the package object to verify</li>
<li><strong>raiseError</strong> &#8211; if <em>raiseError</em> is 1, and the package
does not check out, a <tt class="xref py py-class docutils literal"><span class="pre">URLGrabError</span></tt> will be raised.
Defaults to 0</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if the package is verified successfully.
Otherwise, False will be returned, unless <em>raiseError</em> is
1, in which case a <tt class="xref py py-class docutils literal"><span class="pre">URLGrabError</span></tt> will be raised</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">URLGrabError</span></tt> if verification fails, and
<em>raiseError</em> is 1</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.verifyTransaction">
<tt class="descname">verifyTransaction</tt><big>(</big><em>resultobject=None</em>, <em>txmbr_cb=None</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.verifyTransaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the transaction did what was expected, and
propagate external yumdb information.  Output error messages
if the transaction did not do what was expected.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resultobject</strong> &#8211; the <a class="reference internal" href="#dnf.yum.misc.GenericHolder" title="dnf.yum.misc.GenericHolder"><tt class="xref py py-class docutils literal"><span class="pre">misc.GenericHolder</span></tt></a>
object returned from the <a class="reference internal" href="#dnf.yum.YumBase.runTransaction" title="dnf.yum.YumBase.runTransaction"><tt class="xref py py-func docutils literal"><span class="pre">runTransaction()</span></tt></a> call that
ran the transaction</li>
<li><strong>txmbr_cb</strong> &#8211; the callback for the rpm transaction members</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.verify_plugins_cb">
<tt class="descname">verify_plugins_cb</tt><big>(</big><em>verify_package</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.verify_plugins_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback to call a plugin hook for pkg.verify().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>verify_package</strong> &#8211; a conduit for the callback</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><em>verify_package</em></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.YumBase.yumUtilsMsg">
<tt class="descname">yumUtilsMsg</tt><big>(</big><em>func</em>, <em>prog</em><big>)</big><a class="headerlink" href="#dnf.yum.YumBase.yumUtilsMsg" title="Permalink to this definition">¶</a></dt>
<dd><p>Output a message that the given tool requires the yum-utils
package, if it not installed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>func</strong> &#8211; the function to output the message</li>
<li><strong>prog</strong> &#8211; the name of the tool that requires yum-utils</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dnf.yum.callbacks">
<span id="dnf-yum-callbacks"></span><h2><a class="toc-backref" href="#id3">dnf.yum.callbacks</a><a class="headerlink" href="#module-dnf.yum.callbacks" title="Permalink to this headline">¶</a></h2>
<p>Classes for handling various callbacks.</p>
<dl class="class">
<dt id="dnf.yum.callbacks.DownloadBaseCallback">
<em class="property">class </em><tt class="descclassname">dnf.yum.callbacks.</tt><tt class="descname">DownloadBaseCallback</tt><a class="headerlink" href="#dnf.yum.callbacks.DownloadBaseCallback" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a base class that can be extended to implement a custom
download progress handler to be used with
<tt class="xref py py-func docutils literal"><span class="pre">YumBase.repos.setProgressBar()</span></tt>.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">callbacks</span> <span class="kn">import</span> <span class="n">DownloadBaseCallback</span>

<span class="k">class</span> <span class="nc">MyDownloadCallback</span><span class="p">(</span>  <span class="n">DownloadBaseCallback</span> <span class="p">):</span>

    <span class="k">def</span> <span class="nf">updateProgress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">frac</span><span class="p">,</span><span class="n">fread</span><span class="p">,</span><span class="n">ftime</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Update the progressbar</span>
<span class="sd">        @param name: filename</span>
<span class="sd">        @param frac: Progress fracment (0 -&gt; 1)</span>
<span class="sd">        @param fread: formated string containing BytesRead</span>
<span class="sd">        @param ftime : formated string containing remaining or elapsed time</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">pct</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">frac</span><span class="o">*</span><span class="mi">100</span> <span class="p">)</span>
        <span class="k">print</span> <span class="s">&quot; </span><span class="si">%s</span><span class="s"> : </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">pct</span><span class="p">)</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">my</span> <span class="o">=</span> <span class="n">YumBase</span><span class="p">()</span>
    <span class="n">my</span><span class="o">.</span><span class="n">doConfigSetup</span><span class="p">()</span>
    <span class="n">dnlcb</span> <span class="o">=</span> <span class="n">MyDownloadCallback</span><span class="p">()</span>
    <span class="n">my</span><span class="o">.</span><span class="n">repos</span><span class="o">.</span><span class="n">setProgressBar</span><span class="p">(</span> <span class="n">dnlcb</span> <span class="p">)</span>
    <span class="k">for</span> <span class="n">pkg</span> <span class="ow">in</span> <span class="n">my</span><span class="o">.</span><span class="n">pkgSack</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">pkg</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
<dl class="method">
<dt id="dnf.yum.callbacks.DownloadBaseCallback.update">
<tt class="descname">update</tt><big>(</big><em>amount_read</em>, <em>now=None</em><big>)</big><a class="headerlink" href="#dnf.yum.callbacks.DownloadBaseCallback.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the status bar.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>amount_read</strong> &#8211; the amount of data, in bytes, that has been read</li>
<li><strong>now</strong> &#8211; the current time in seconds since the epoch.  If
<em>now</em> is not given, the output of <tt class="xref py py-func docutils literal"><span class="pre">time.time()</span></tt> will
be used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.callbacks.DownloadBaseCallback.updateProgress">
<tt class="descname">updateProgress</tt><big>(</big><em>name</em>, <em>frac</em>, <em>fread</em>, <em>ftime</em><big>)</big><a class="headerlink" href="#dnf.yum.callbacks.DownloadBaseCallback.updateProgress" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the progressbar.  This method should be overridden
by subclasses to implement the handler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; the name of the filed being downloaded</li>
<li><strong>frac</strong> &#8211; number between 0 and 1 representing the fraction
fraction of the file that has been downloaded</li>
<li><strong>fread</strong> &#8211; formatted string containing the number of bytes read</li>
<li><strong>ftime</strong> &#8211; formatted string containing remaining or elapsed time</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.callbacks.ProcessTransBaseCallback">
<em class="property">class </em><tt class="descclassname">dnf.yum.callbacks.</tt><tt class="descname">ProcessTransBaseCallback</tt><a class="headerlink" href="#dnf.yum.callbacks.ProcessTransBaseCallback" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to handle callbacks from
<tt class="xref py py-func docutils literal"><span class="pre">YumBase.processTransaction()</span></tt>.</p>
<dl class="method">
<dt id="dnf.yum.callbacks.ProcessTransBaseCallback.event">
<tt class="descname">event</tt><big>(</big><em>state</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#dnf.yum.callbacks.ProcessTransBaseCallback.event" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle an event by logging it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>state</strong> &#8211; a number indicating the type of callback</li>
<li><strong>data</strong> &#8211; data associated with the callback</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.callbacks.ProcessTransNoOutputCallback">
<em class="property">class </em><tt class="descclassname">dnf.yum.callbacks.</tt><tt class="descname">ProcessTransNoOutputCallback</tt><a class="headerlink" href="#dnf.yum.callbacks.ProcessTransNoOutputCallback" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to handle callbacks from
<tt class="xref py py-func docutils literal"><span class="pre">YumBase.processTransaction()</span></tt>, without logging them.</p>
<dl class="method">
<dt id="dnf.yum.callbacks.ProcessTransNoOutputCallback.event">
<tt class="descname">event</tt><big>(</big><em>state</em>, <em>data=None</em><big>)</big><a class="headerlink" href="#dnf.yum.callbacks.ProcessTransNoOutputCallback.event" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle an event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>state</strong> &#8211; a number indicating the type of callback</li>
<li><strong>data</strong> &#8211; data associated with the callback</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dnf.yum.comps">
<span id="dnf-yum-comps"></span><h2><a class="toc-backref" href="#id4">dnf.yum.comps</a><a class="headerlink" href="#module-dnf.yum.comps" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dnf.yum.comps.Category">
<em class="property">class </em><tt class="descclassname">dnf.yum.comps.</tt><tt class="descname">Category</tt><big>(</big><em>elem=None</em><big>)</big><a class="headerlink" href="#dnf.yum.comps.Category" title="Permalink to this definition">¶</a></dt>
<dd><p>Category object parsed from group data in each repo. and merged.</p>
<dl class="method">
<dt id="dnf.yum.comps.Category.add">
<tt class="descname">add</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#dnf.yum.comps.Category.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add another category object to this object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.comps.Category.xml">
<tt class="descname">xml</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.comps.Category.xml" title="Permalink to this definition">¶</a></dt>
<dd><p>write out an xml stanza for the category object</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.comps.CompsObj">
<em class="property">class </em><tt class="descclassname">dnf.yum.comps.</tt><tt class="descname">CompsObj</tt><a class="headerlink" href="#dnf.yum.comps.CompsObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Group/Category helper object.</p>
<dl class="attribute">
<dt id="dnf.yum.comps.CompsObj.ui_description">
<tt class="descname">ui_description</tt><a class="headerlink" href="#dnf.yum.comps.CompsObj.ui_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the &#8220;description&#8221; of the object for the current locale.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.comps.CompsObj.ui_name">
<tt class="descname">ui_name</tt><a class="headerlink" href="#dnf.yum.comps.CompsObj.ui_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the &#8220;name&#8221; of the object for the current locale.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.comps.Group">
<em class="property">class </em><tt class="descclassname">dnf.yum.comps.</tt><tt class="descname">Group</tt><big>(</big><em>elem=None</em><big>)</big><a class="headerlink" href="#dnf.yum.comps.Group" title="Permalink to this definition">¶</a></dt>
<dd><p>Group object parsed from group data in each repo. and merged.</p>
<dl class="method">
<dt id="dnf.yum.comps.Group.add">
<tt class="descname">add</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#dnf.yum.comps.Group.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add another group object to this object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.comps.Group.xml">
<tt class="descname">xml</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.comps.Group.xml" title="Permalink to this definition">¶</a></dt>
<dd><p>write out an xml stanza for the group object</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dnf.yum.config">
<span id="dnf-yum-config"></span><h2><a class="toc-backref" href="#id5">dnf.yum.config</a><a class="headerlink" href="#module-dnf.yum.config" title="Permalink to this headline">¶</a></h2>
<p>Configuration parser and default values for yum.</p>
<dl class="class">
<dt id="dnf.yum.config.BaseConfig">
<em class="property">class </em><tt class="descclassname">dnf.yum.config.</tt><tt class="descname">BaseConfig</tt><a class="headerlink" href="#dnf.yum.config.BaseConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for storing configuration definitions. Subclass when
creating your own definitions.</p>
<dl class="classmethod">
<dt id="dnf.yum.config.BaseConfig.isoption">
<em class="property">classmethod </em><tt class="descname">isoption</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#dnf.yum.config.BaseConfig.isoption" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the given name refers to a defined option.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cls</strong> &#8211; the class to find the option in</li>
<li><strong>name</strong> &#8211; the name of the option to search for</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">whether <em>name</em> specifies a defined option</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.config.BaseConfig.iteritems">
<tt class="descname">iteritems</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.config.BaseConfig.iteritems" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield (name, value) pairs for every option in the
instance. The value returned is the parsed, validated option
value.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.config.BaseConfig.iterkeys">
<tt class="descname">iterkeys</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.config.BaseConfig.iterkeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield the names of all defined options in the instance.</p>
</dd></dl>

<dl class="classmethod">
<dt id="dnf.yum.config.BaseConfig.optionobj">
<em class="property">classmethod </em><tt class="descname">optionobj</tt><big>(</big><em>name</em>, <em>exceptions=True</em><big>)</big><a class="headerlink" href="#dnf.yum.config.BaseConfig.optionobj" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> instance for the given name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cls</strong> &#8211; the class to return the <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> instance from</li>
<li><strong>name</strong> &#8211; the name of the <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> instance to return</li>
<li><strong>exceptions</strong> &#8211; defines what action to take if the
specified <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> instance does not exist. If <em>exceptions</em> is
True, a <tt class="xref py py-class docutils literal"><span class="pre">KeyError</span></tt> will be raised. If <em>exceptions</em>
is False, None will be returned</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> instance specified by <em>name</em>, or None if
it does not exist and <em>exceptions</em> is False</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">KeyError</span></tt> if the specified <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> does not
exist, and <em>exceptions</em> is True</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.config.BaseConfig.populate">
<tt class="descname">populate</tt><big>(</big><em>parser</em>, <em>section</em>, <em>parent=None</em><big>)</big><a class="headerlink" href="#dnf.yum.config.BaseConfig.populate" title="Permalink to this definition">¶</a></dt>
<dd><p>Set option values from an INI file section.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>parser</strong> &#8211; <tt class="xref py py-class docutils literal"><span class="pre">ConfigParser</span></tt> instance (or subclass)</li>
<li><strong>section</strong> &#8211; INI file section to read use</li>
<li><strong>parent</strong> &#8211; Optional parent <a class="reference internal" href="#dnf.yum.config.BaseConfig" title="dnf.yum.config.BaseConfig"><tt class="xref py py-class docutils literal"><span class="pre">BaseConfig</span></tt></a> (or
subclass) instance to use when doing option value
inheritance</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.config.BaseConfig.write">
<tt class="descname">write</tt><big>(</big><em>fileobj</em>, <em>section=None</em>, <em>always=()</em><big>)</big><a class="headerlink" href="#dnf.yum.config.BaseConfig.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out the configuration to a file-like object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fileobj</strong> &#8211; File-like object to write to</li>
<li><strong>section</strong> &#8211; Section name to use. If not specified, the section name
used during parsing will be used</li>
<li><strong>always</strong> &#8211; A sequence of option names to always write out.
Options not listed here will only be written out if they are at
non-default values. Set to None to dump out all options</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.BoolOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">BoolOption</tt><a class="headerlink" href="#dnf.yum.config.BoolOption" title="Permalink to this definition">¶</a></dt>
<dd><p>An option representing a boolean value.  The value can be one
of 0, 1, yes, no, true, or false.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.BytesOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">BytesOption</tt><a class="headerlink" href="#dnf.yum.config.BytesOption" title="Permalink to this definition">¶</a></dt>
<dd><p>An option representing a value in bytes. The value may be given
in bytes, kilobytes, megabytes, or gigabytes.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.CaselessSelectionOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">CaselessSelectionOption</tt><a class="headerlink" href="#dnf.yum.config.CaselessSelectionOption" title="Permalink to this definition">¶</a></dt>
<dd><p>Mainly for compatibility with <a class="reference internal" href="#dnf.yum.config.BoolOption" title="dnf.yum.config.BoolOption"><tt class="xref py py-class docutils literal"><span class="pre">BoolOption</span></tt></a>, works like
<a class="reference internal" href="#dnf.yum.config.SelectionOption" title="dnf.yum.config.SelectionOption"><tt class="xref py py-class docutils literal"><span class="pre">SelectionOption</span></tt></a> but lowers input case.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.FloatOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">FloatOption</tt><a class="headerlink" href="#dnf.yum.config.FloatOption" title="Permalink to this definition">¶</a></dt>
<dd><p>An option representing a numeric float value.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.config.Inherit">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">Inherit</tt><big>(</big><em>option_obj</em><big>)</big><a class="headerlink" href="#dnf.yum.config.Inherit" title="Permalink to this definition">¶</a></dt>
<dd><p>Clone an <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> instance for the purposes of inheritance. The returned
instance has all the same properties as the input <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> and shares items
such as the default value. Use this to avoid redefinition of reused
options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>option_obj</strong> &#8211; <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> instance to inherit</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">New <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> instance inherited from the input</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.IntOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">IntOption</tt><a class="headerlink" href="#dnf.yum.config.IntOption" title="Permalink to this definition">¶</a></dt>
<dd><p>An option representing an integer value.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.ListOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">ListOption</tt><a class="headerlink" href="#dnf.yum.config.ListOption" title="Permalink to this definition">¶</a></dt>
<dd><p>An option containing a list of strings.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.Option">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">Option</tt><a class="headerlink" href="#dnf.yum.config.Option" title="Permalink to this definition">¶</a></dt>
<dd><p>This class handles a single Yum configuration file option. Create
subclasses for each type of supported configuration option.
Python descriptor foo (__get__ and __set__) is used to make option
definition easy and concise.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.PositiveIntOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">PositiveIntOption</tt><a class="headerlink" href="#dnf.yum.config.PositiveIntOption" title="Permalink to this definition">¶</a></dt>
<dd><p>An option representing a positive integer value, where 0 can
have a special representation.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.config.RepoConf">
<em class="property">class </em><tt class="descclassname">dnf.yum.config.</tt><tt class="descname">RepoConf</tt><a class="headerlink" href="#dnf.yum.config.RepoConf" title="Permalink to this definition">¶</a></dt>
<dd><p>Option definitions for repository INI file sections.</p>
<dl class="method">
<dt id="dnf.yum.config.RepoConf.iterkeys">
<tt class="descname">iterkeys</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.config.RepoConf.iterkeys" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield the names of all defined options in the instance.</p>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.SecondsOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">SecondsOption</tt><a class="headerlink" href="#dnf.yum.config.SecondsOption" title="Permalink to this definition">¶</a></dt>
<dd><p>An option representing an integer value of seconds, or a human
readable variation specifying days, hours, minutes or seconds
until something happens. Works like <a class="reference internal" href="#dnf.yum.config.BytesOption" title="dnf.yum.config.BytesOption"><tt class="xref py py-class docutils literal"><span class="pre">BytesOption</span></tt></a>.  Note
that due to historical president -1 means &#8220;never&#8221;, so this accepts
that and allows the word never, too.</p>
<p>Valid inputs: 100, 1.5m, 90s, 1.2d, 1d, 0xF, 0.1, -1, never.
Invalid inputs: -10, -0.1, 45.6Z, 1d6h, 1day, 1y.</p>
<p>Return value will always be an integer</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.SelectionOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">SelectionOption</tt><a class="headerlink" href="#dnf.yum.config.SelectionOption" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles string values where only specific values are
allowed.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.config.StartupConf">
<em class="property">class </em><tt class="descclassname">dnf.yum.config.</tt><tt class="descname">StartupConf</tt><a class="headerlink" href="#dnf.yum.config.StartupConf" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration option definitions for yum.conf&#8217;s [main] section
that are required early in the initialisation process or before
the other [main] options can be parsed.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.ThrottleOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">ThrottleOption</tt><a class="headerlink" href="#dnf.yum.config.ThrottleOption" title="Permalink to this definition">¶</a></dt>
<dd><p>An option representing a bandwidth throttle value. See
<tt class="xref py py-func docutils literal"><span class="pre">parse()</span></tt> for acceptable input values.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.UrlListOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">UrlListOption</tt><a class="headerlink" href="#dnf.yum.config.UrlListOption" title="Permalink to this definition">¶</a></dt>
<dd><p>Option for handling lists of URLs with validation of the URL
scheme.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.config.UrlOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">UrlOption</tt><a class="headerlink" href="#dnf.yum.config.UrlOption" title="Permalink to this definition">¶</a></dt>
<dd><p>This option handles lists of URLs with validation of the URL
scheme.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.config.VersionGroupConf">
<em class="property">class </em><tt class="descclassname">dnf.yum.config.</tt><tt class="descname">VersionGroupConf</tt><a class="headerlink" href="#dnf.yum.config.VersionGroupConf" title="Permalink to this definition">¶</a></dt>
<dd><p>Option definitions for version groups.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.config.YumConf">
<em class="property">class </em><tt class="descclassname">dnf.yum.config.</tt><tt class="descname">YumConf</tt><a class="headerlink" href="#dnf.yum.config.YumConf" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration option definitions for yum.conf&#8217;s [main] section.</p>
<p>Note: see also options inherited from <a class="reference internal" href="#dnf.yum.config.StartupConf" title="dnf.yum.config.StartupConf"><tt class="xref py py-class docutils literal"><span class="pre">StartupConf</span></tt></a></p>
<dl class="method">
<dt id="dnf.yum.config.YumConf.dump">
<tt class="descname">dump</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.config.YumConf.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string representing the values of all the
configuration options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a string representing the values of all the
configuration options</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="dnf.yum.config.getOption">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">getOption</tt><big>(</big><em>conf</em>, <em>section</em>, <em>name</em>, <em>option</em><big>)</big><a class="headerlink" href="#dnf.yum.config.getOption" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to retrieve a parsed and converted value from a
<tt class="xref py py-class docutils literal"><span class="pre">ConfigParser</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>conf</strong> &#8211; ConfigParser instance or similar</li>
<li><strong>section</strong> &#8211; Section name</li>
<li><strong>name</strong> &#8211; <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> name</li>
<li><strong>option</strong> &#8211; <a class="reference internal" href="#dnf.yum.config.Option" title="dnf.yum.config.Option"><tt class="xref py py-class docutils literal"><span class="pre">Option</span></tt></a> instance to use for conversion</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The parsed value or default if value was not present</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">ValueError</span></tt> if the option could not be parsed</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.config.readMainConfig">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">readMainConfig</tt><big>(</big><em>startupconf</em><big>)</big><a class="headerlink" href="#dnf.yum.config.readMainConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse Yum&#8217;s main configuration file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>startupconf</strong> &#8211; <a class="reference internal" href="#dnf.yum.config.StartupConf" title="dnf.yum.config.StartupConf"><tt class="xref py py-class docutils literal"><span class="pre">StartupConf</span></tt></a> instance as returned by readStartupConfig()</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Populated <a class="reference internal" href="#dnf.yum.config.YumConf" title="dnf.yum.config.YumConf"><tt class="xref py py-class docutils literal"><span class="pre">YumConf</span></tt></a> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.config.readStartupConfig">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">readStartupConfig</tt><big>(</big><em>configfile</em>, <em>root</em>, <em>releasever=None</em><big>)</big><a class="headerlink" href="#dnf.yum.config.readStartupConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse Yum&#8217;s main configuration file and return a
<a class="reference internal" href="#dnf.yum.config.StartupConf" title="dnf.yum.config.StartupConf"><tt class="xref py py-class docutils literal"><span class="pre">StartupConf</span></tt></a> instance.  This is required in order to
access configuration settings required as Yum starts up.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>configfile</strong> &#8211; the path to yum.conf</li>
<li><strong>root</strong> &#8211; the base path to use for installation (typically &#8216;/&#8217;)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A <a class="reference internal" href="#dnf.yum.config.StartupConf" title="dnf.yum.config.StartupConf"><tt class="xref py py-class docutils literal"><span class="pre">StartupConf</span></tt></a> instance</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><tt class="xref py py-class docutils literal"><span class="pre">Errors.ConfigError</span></tt> if a problem is detected with while parsing.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.config.readVersionGroupsConfig">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">readVersionGroupsConfig</tt><big>(</big><em>configfile='/etc/yum/version-groups.conf'</em><big>)</big><a class="headerlink" href="#dnf.yum.config.readVersionGroupsConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the configuration file for version groups.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>configfile</strong> &#8211; the configuration file to read</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a dictionary containing the parsed options</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.config.writeRawRepoFile">
<tt class="descclassname">dnf.yum.config.</tt><tt class="descname">writeRawRepoFile</tt><big>(</big><em>repo</em>, <em>only=None</em><big>)</big><a class="headerlink" href="#dnf.yum.config.writeRawRepoFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write changes in a repo object back to a .repo file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>repo</strong> &#8211; the Repo Object to write back out</li>
<li><strong>only</strong> &#8211; list of attributes to work on. If <em>only</em> is None, all
options will be written out</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.constants">
<span id="dnf-constants"></span><h2><a class="toc-backref" href="#id6">dnf.constants</a><a class="headerlink" href="#module-dnf.yum.constants" title="Permalink to this headline">¶</a></h2>
<p>Yum constants. Usually dealing with rpm magic numbers.</p>
</div>
<div class="section" id="module-dnf.yum.Errors">
<span id="dnf-yum-errors"></span><h2><a class="toc-backref" href="#id7">dnf.yum.Errors</a><a class="headerlink" href="#module-dnf.yum.Errors" title="Permalink to this headline">¶</a></h2>
<p>Exceptions and Errors thrown by yum.</p>
<dl class="exception">
<dt id="dnf.yum.Errors.YumBaseError">
<em class="property">exception </em><tt class="descclassname">dnf.yum.Errors.</tt><tt class="descname">YumBaseError</tt><big>(</big><em>value=None</em><big>)</big><a class="headerlink" href="#dnf.yum.Errors.YumBaseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Base Yum Error. All other Errors thrown by yum should inherit from
this.</p>
</dd></dl>

<dl class="exception">
<dt id="dnf.yum.Errors.YumDeprecationWarning">
<em class="property">exception </em><tt class="descclassname">dnf.yum.Errors.</tt><tt class="descname">YumDeprecationWarning</tt><big>(</big><em>value=None</em><big>)</big><a class="headerlink" href="#dnf.yum.Errors.YumDeprecationWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to mark a method as deprecated.</p>
</dd></dl>

<dl class="exception">
<dt id="dnf.yum.Errors.YumFutureDeprecationWarning">
<em class="property">exception </em><tt class="descclassname">dnf.yum.Errors.</tt><tt class="descname">YumFutureDeprecationWarning</tt><big>(</big><em>value=None</em><big>)</big><a class="headerlink" href="#dnf.yum.Errors.YumFutureDeprecationWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to mark a method as deprecated. Unlike YumDeprecationWarning,
YumFutureDeprecationWarnings will not be shown on the console.</p>
</dd></dl>

<dl class="exception">
<dt id="dnf.yum.Errors.YumRPMTransError">
<em class="property">exception </em><tt class="descclassname">dnf.yum.Errors.</tt><tt class="descname">YumRPMTransError</tt><big>(</big><em>msg</em>, <em>errors</em><big>)</big><a class="headerlink" href="#dnf.yum.Errors.YumRPMTransError" title="Permalink to this definition">¶</a></dt>
<dd><p>This class means rpm&#8217;s .ts.run() returned known errors. We are compat.
with YumBaseError in that we print nicely, and compat. with traditional
usage of this error from runTransaction().</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.failover">
<span id="dnf-yum-failover"></span><h2><a class="toc-backref" href="#id8">dnf.yum.failover</a><a class="headerlink" href="#module-dnf.yum.failover" title="Permalink to this headline">¶</a></h2>
<p>Classes for handling failovers for server URLs.</p>
<dl class="class">
<dt id="dnf.yum.failover.baseFailOverMethod">
<em class="property">class </em><tt class="descclassname">dnf.yum.failover.</tt><tt class="descname">baseFailOverMethod</tt><big>(</big><em>repo</em><big>)</big><a class="headerlink" href="#dnf.yum.failover.baseFailOverMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>A base class to provide a failover to switch to a new server if
the current one fails.</p>
<dl class="method">
<dt id="dnf.yum.failover.baseFailOverMethod.get_index">
<tt class="descname">get_index</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.failover.baseFailOverMethod.get_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current number of failures, which is also the
current index into the list of URLs that this object
represents.  <a class="reference internal" href="#dnf.yum.failover.baseFailOverMethod.get_serverurl" title="dnf.yum.failover.baseFailOverMethod.get_serverurl"><tt class="xref py py-func docutils literal"><span class="pre">get_serverurl()</span></tt></a> should always be used to
translate an index into a URL, as this object may change how
indexes map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the current number of failures, which is also the
current index</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.failover.baseFailOverMethod.get_serverurl">
<tt class="descname">get_serverurl</tt><big>(</big><em>i=None</em><big>)</big><a class="headerlink" href="#dnf.yum.failover.baseFailOverMethod.get_serverurl" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a server URL based on this failover method, or None
if there is a complete failure.  This method should always be
used to translate an index into a URL, as this object may
change how indexes map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> &#8211; if given, this is the index of the server URL to
return, instead of using the failures counter</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the next server URL</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.failover.baseFailOverMethod.len">
<tt class="descname">len</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.failover.baseFailOverMethod.len" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total number of URLs available to cycle through
in this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the total number of URLs available</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.failover.baseFailOverMethod.reset">
<tt class="descname">reset</tt><big>(</big><em>i=0</em><big>)</big><a class="headerlink" href="#dnf.yum.failover.baseFailOverMethod.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the failures counter to the given index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> &#8211; the index to reset the failures counter to</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.failover.baseFailOverMethod.server_failed">
<tt class="descname">server_failed</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.failover.baseFailOverMethod.server_failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the failover method that the current server has
failed.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.failover.priority">
<em class="property">class </em><tt class="descclassname">dnf.yum.failover.</tt><tt class="descname">priority</tt><big>(</big><em>repo</em><big>)</big><a class="headerlink" href="#dnf.yum.failover.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to provide a failover to switch to a new server
if the current one fails.  This classes chooses the next server
based on the first success in the list of servers.</p>
<dl class="method">
<dt id="dnf.yum.failover.priority.get_serverurl">
<tt class="descname">get_serverurl</tt><big>(</big><em>i=None</em><big>)</big><a class="headerlink" href="#dnf.yum.failover.priority.get_serverurl" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the next successful server URL in the list, or None
if there is a complete failure.  This method should always be
used to translate an index into a URL, as this object may
change how indexes map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> &#8211; if given, this is the index of the server URL to
return, instead of using the failures counter</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the next server URL</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.failover.roundRobin">
<em class="property">class </em><tt class="descclassname">dnf.yum.failover.</tt><tt class="descname">roundRobin</tt><big>(</big><em>repo</em><big>)</big><a class="headerlink" href="#dnf.yum.failover.roundRobin" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to provide a failover to switch to a new server
if the current one fails.  When an object of this class is
created, it selects a random place in the list of URLs to begin
with, then each time <tt class="xref py py-func docutils literal"><span class="pre">get_serveurl()</span></tt> is called, the next URL
in the list is returned, cycling back to the beginning of the list
after the end is reached.</p>
<dl class="method">
<dt id="dnf.yum.failover.roundRobin.get_serverurl">
<tt class="descname">get_serverurl</tt><big>(</big><em>i=None</em><big>)</big><a class="headerlink" href="#dnf.yum.failover.roundRobin.get_serverurl" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the next successful server URL in the list, using
the round robin scheme, or None if there is a complete
failure.  This method should always be used to translate an
index into a URL, as this object may change how indexes map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> &#8211; if given, this is the index of the server URL to
return, instead of using the failures counter</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the next server URL</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dnf.yum.history">
<span id="dnf-yum-history"></span><h2><a class="toc-backref" href="#id9">dnf.yum.history</a><a class="headerlink" href="#module-dnf.yum.history" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dnf.yum.history.YumHistory">
<em class="property">class </em><tt class="descclassname">dnf.yum.history.</tt><tt class="descname">YumHistory</tt><big>(</big><em>db_path</em>, <em>yumdb</em>, <em>root='/'</em>, <em>releasever=None</em><big>)</big><a class="headerlink" href="#dnf.yum.history.YumHistory" title="Permalink to this definition">¶</a></dt>
<dd><p>API for accessing the history sqlite data.</p>
<dl class="method">
<dt id="dnf.yum.history.YumHistory.last">
<tt class="descname">last</tt><big>(</big><em>complete_transactions_only=True</em><big>)</big><a class="headerlink" href="#dnf.yum.history.YumHistory.last" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the last full transaction. So any incomplete transactions
do not count, by default.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.history.YumHistory.log_scriptlet_output">
<tt class="descname">log_scriptlet_output</tt><big>(</big><em>data</em>, <em>msg</em><big>)</big><a class="headerlink" href="#dnf.yum.history.YumHistory.log_scriptlet_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Note that data can be either a real pkg. ... or not.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.history.YumHistory.old">
<tt class="descname">old</tt><big>(</big><em>tids=</em><span class="optional">[</span><span class="optional">]</span>, <em>limit=None</em>, <em>complete_transactions_only=False</em><big>)</big><a class="headerlink" href="#dnf.yum.history.YumHistory.old" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the last transactions, note that this includes
partial transactions (ones without an end transaction).</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.history.YumHistory.search">
<tt class="descname">search</tt><big>(</big><em>patterns</em>, <em>ignore_case=True</em><big>)</big><a class="headerlink" href="#dnf.yum.history.YumHistory.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for history transactions which contain specified
packages al. la. &#8220;yum list&#8221;. Returns transaction ids.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.history.YumHistory.sync_alldb">
<tt class="descname">sync_alldb</tt><big>(</big><em>ipkg</em><big>)</big><a class="headerlink" href="#dnf.yum.history.YumHistory.sync_alldb" title="Permalink to this definition">¶</a></dt>
<dd><p>Sync. all the data for rpmdb/yumdb for this installed pkg.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.history.YumHistory.write_addon_data">
<tt class="descname">write_addon_data</tt><big>(</big><em>dataname</em>, <em>data</em><big>)</big><a class="headerlink" href="#dnf.yum.history.YumHistory.write_addon_data" title="Permalink to this definition">¶</a></dt>
<dd><p>append data to an arbitrary-named file in the history
addon_path/transaction id location,
returns True if write succeeded, False if not</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.history.YumHistoryRpmdbProblem">
<em class="property">class </em><tt class="descclassname">dnf.yum.history.</tt><tt class="descname">YumHistoryRpmdbProblem</tt><big>(</big><em>history</em>, <em>rpid</em>, <em>problem</em>, <em>text</em><big>)</big><a class="headerlink" href="#dnf.yum.history.YumHistoryRpmdbProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing an rpmdb problem that existed at the time of the
transaction.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.history.YumHistoryTransaction">
<em class="property">class </em><tt class="descclassname">dnf.yum.history.</tt><tt class="descname">YumHistoryTransaction</tt><big>(</big><em>history</em>, <em>row</em><big>)</big><a class="headerlink" href="#dnf.yum.history.YumHistoryTransaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Holder for a history transaction.</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.i18n">
<span id="dnf-yum-i18n"></span><h2><a class="toc-backref" href="#id10">dnf.yum.i18n</a><a class="headerlink" href="#module-dnf.yum.i18n" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dnf.yum.i18n.dummyP_wrapper">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">dummyP_wrapper</tt><big>(</big><em>str1</em>, <em>str2</em>, <em>n</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.dummyP_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy Plural Translation wrapper, just returning the singular or plural
string.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.dummy_wrapper">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">dummy_wrapper</tt><big>(</big><em>str</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.dummy_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy Translation wrapper, just returning the same string.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.exception2msg">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">exception2msg</tt><big>(</big><em>e</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.exception2msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an exception to a message.  This function will convert
the exception using to_unicode, unicode, or str, whichever works correctly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>e</strong> &#8211; an exception</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a string representation of the exception</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.str_eq">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">str_eq</tt><big>(</big><em>a</em>, <em>b</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.str_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>convert between unicode and not and compare them, w/o warning or being annoying</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.to_str">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">to_str</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert something to a string, if it isn&#8217;t one.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.to_unicode">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">to_unicode</tt><big>(</big><em>obj</em>, <em>encoding='utf-8'</em>, <em>errors='replace'</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.to_unicode" title="Permalink to this definition">¶</a></dt>
<dd><p>convert a &#8216;str&#8217; to &#8216;unicode&#8217;</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.to_unicode_maybe">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">to_unicode_maybe</tt><big>(</big><em>obj</em>, <em>encoding='utf-8'</em>, <em>errors='replace'</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.to_unicode_maybe" title="Permalink to this definition">¶</a></dt>
<dd><p>Don&#8217;t ask don&#8217;t tell, only use when you must</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.to_utf8">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">to_utf8</tt><big>(</big><em>obj</em>, <em>errors='replace'</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.to_utf8" title="Permalink to this definition">¶</a></dt>
<dd><p>convert &#8216;unicode&#8217; to an encoded utf-8 byte string</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.utf8_text_fill">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">utf8_text_fill</tt><big>(</big><em>text</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.utf8_text_fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Works like we want textwrap.fill() to work, uses utf-8 data and
doesn&#8217;t screw up lists/blocks/etc.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.utf8_text_wrap">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">utf8_text_wrap</tt><big>(</big><em>text</em>, <em>width=70</em>, <em>initial_indent=''</em>, <em>subsequent_indent=''</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.utf8_text_wrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Works like we want textwrap.wrap() to work, uses utf-8 data and
doesn&#8217;t screw up lists/blocks/etc.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.utf8_valid">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">utf8_valid</tt><big>(</big><em>msg</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.utf8_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True/False is the text is valid utf8.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.utf8_width">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">utf8_width</tt><big>(</big><em>msg</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.utf8_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the textual width of a utf8 string.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.utf8_width_chop">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">utf8_width_chop</tt><big>(</big><em>msg</em>, <em>chop=None</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.utf8_width_chop" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the textual width of a utf8 string, chopping it to a specified
value. This is what you want to use instead of %.*s, as it does the
&#8220;right&#8221; thing with regard to utf-8 sequences. Eg.
&#8220;%.*s&#8221; % (10, msg)   &lt;= becomes =&gt; &#8220;%s&#8221; % (utf8_width_chop(msg, 10))</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.i18n.utf8_width_fill">
<tt class="descclassname">dnf.yum.i18n.</tt><tt class="descname">utf8_width_fill</tt><big>(</big><em>msg</em>, <em>fill</em>, <em>chop=None</em>, <em>left=True</em>, <em>prefix=''</em>, <em>suffix=''</em><big>)</big><a class="headerlink" href="#dnf.yum.i18n.utf8_width_fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand a utf8 msg to a specified &#8220;width&#8221; or chop to same.
Expansion can be left or right. This is what you want to use instead of
%*.*s, as it does the &#8220;right&#8221; thing with regard to utf-8 sequences.
prefix and suffix should be used for &#8220;invisible&#8221; bytes, like
highlighting.</p>
<p>Examples:</p>
<p><tt class="docutils literal"><span class="pre">&quot;%-*.*s&quot;</span> <span class="pre">%</span> <span class="pre">(10,</span> <span class="pre">20,</span> <span class="pre">msg)</span></tt> becomes <tt class="docutils literal"><span class="pre">&quot;%s&quot;</span> <span class="pre">%</span> <span class="pre">(utf8_width_fill(msg,</span> <span class="pre">10,</span> <span class="pre">20))</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">&quot;%20.10s&quot;</span> <span class="pre">%</span> <span class="pre">(msg)</span></tt> becomes <tt class="docutils literal"><span class="pre">&quot;%s&quot;</span> <span class="pre">%</span> <span class="pre">(utf8_width_fill(msg,</span> <span class="pre">20,</span> <span class="pre">10,</span>
<span class="pre">left=False))</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">&quot;%s%.10s%s&quot;</span> <span class="pre">%</span> <span class="pre">(prefix,</span> <span class="pre">msg,</span> <span class="pre">suffix)</span></tt> becomes <tt class="docutils literal"><span class="pre">&quot;%s&quot;</span> <span class="pre">%</span>
<span class="pre">(utf8_width_fill(msg,</span> <span class="pre">0,</span> <span class="pre">10,</span> <span class="pre">prefix=prefix,</span> <span class="pre">suffix=suffix))</span></tt>.</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.logginglevels">
<span id="dnf-yum-logginglevels"></span><h2><a class="toc-backref" href="#id11">dnf.yum.logginglevels</a><a class="headerlink" href="#module-dnf.yum.logginglevels" title="Permalink to this headline">¶</a></h2>
<p>Custom logging levels for finer-grained logging using python&#8217;s standard
logging module.</p>
<dl class="function">
<dt id="dnf.yum.logginglevels.doLoggingSetup">
<tt class="descclassname">dnf.yum.logginglevels.</tt><tt class="descname">doLoggingSetup</tt><big>(</big><em>debuglevel</em>, <em>errorlevel</em>, <em>syslog_ident=None</em>, <em>syslog_facility=None</em>, <em>syslog_device='/dev/log'</em><big>)</big><a class="headerlink" href="#dnf.yum.logginglevels.doLoggingSetup" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the python logger.</p>
<p>errorlevel is optional. If provided, it will override the logging level
provided in the logging config file for error messages.
debuglevel is optional. If provided, it will override the logging level
provided in the logging config file for debug messages.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.logginglevels.logLevelFromDebugLevel">
<tt class="descclassname">dnf.yum.logginglevels.</tt><tt class="descname">logLevelFromDebugLevel</tt><big>(</big><em>debug_level</em><big>)</big><a class="headerlink" href="#dnf.yum.logginglevels.logLevelFromDebugLevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an old-style debug logging level to the new style.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.logginglevels.logLevelFromErrorLevel">
<tt class="descclassname">dnf.yum.logginglevels.</tt><tt class="descname">logLevelFromErrorLevel</tt><big>(</big><em>error_level</em><big>)</big><a class="headerlink" href="#dnf.yum.logginglevels.logLevelFromErrorLevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an old-style error logging level to the new style.</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.mdparser">
<span id="dnf-yum-mdparser"></span><h2><a class="toc-backref" href="#id12">dnf.yum.mdparser</a><a class="headerlink" href="#module-dnf.yum.mdparser" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-dnf.yum.metalink">
<span id="dnf-yum-metalink"></span><h2><a class="toc-backref" href="#id13">dnf.yum.metalink</a><a class="headerlink" href="#module-dnf.yum.metalink" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dnf.yum.metalink.MetaLinkFile">
<em class="property">class </em><tt class="descclassname">dnf.yum.metalink.</tt><tt class="descname">MetaLinkFile</tt><big>(</big><em>elem</em><big>)</big><a class="headerlink" href="#dnf.yum.metalink.MetaLinkFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the file metadata out of a metalink file.</p>
</dd></dl>

<dl class="exception">
<dt id="dnf.yum.metalink.MetaLinkRepoErrorParseFail">
<em class="property">exception </em><tt class="descclassname">dnf.yum.metalink.</tt><tt class="descname">MetaLinkRepoErrorParseFail</tt><big>(</big><em>value=None</em><big>)</big><a class="headerlink" href="#dnf.yum.metalink.MetaLinkRepoErrorParseFail" title="Permalink to this definition">¶</a></dt>
<dd><p>An exception thrown for an unparsable MetaLinkRepoMD file.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.metalink.MetaLinkRepoMD">
<em class="property">class </em><tt class="descclassname">dnf.yum.metalink.</tt><tt class="descname">MetaLinkRepoMD</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#dnf.yum.metalink.MetaLinkRepoMD" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a metalink file for repomd.xml.</p>
<dl class="method">
<dt id="dnf.yum.metalink.MetaLinkRepoMD.urls">
<tt class="descname">urls</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.metalink.MetaLinkRepoMD.urls" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate plain urls for the mirrors, like the old mirrorlist.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.metalink.MetaLinkURL">
<em class="property">class </em><tt class="descclassname">dnf.yum.metalink.</tt><tt class="descname">MetaLinkURL</tt><big>(</big><em>elem</em>, <em>max_connections</em><big>)</big><a class="headerlink" href="#dnf.yum.metalink.MetaLinkURL" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the URL metadata out of a metalink file.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.metalink.main">
<tt class="descclassname">dnf.yum.metalink.</tt><tt class="descname">main</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.metalink.main" title="Permalink to this definition">¶</a></dt>
<dd><p>MetaLinkRepoMD test function.</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.misc">
<span id="dnf-yum-misc"></span><h2><a class="toc-backref" href="#id14">dnf.yum.misc</a><a class="headerlink" href="#module-dnf.yum.misc" title="Permalink to this headline">¶</a></h2>
<p>Assorted utility functions for yum.</p>
<dl class="class">
<dt id="dnf.yum.misc.AutoFileChecksums">
<em class="property">class </em><tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">AutoFileChecksums</tt><big>(</big><em>fo</em>, <em>checksums</em>, <em>ignore_missing=False</em>, <em>ignore_none=False</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.AutoFileChecksums" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate checksum(s), on given file/fileobject. Pretending to be a file
object (overrrides read).</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.misc.Checksums">
<em class="property">class </em><tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">Checksums</tt><big>(</big><em>checksums=None</em>, <em>ignore_missing=False</em>, <em>ignore_none=False</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.Checksums" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate checksum(s), on given pieces of data. Producing the
Length and the result(s) when complete.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.misc.GenericHolder">
<em class="property">class </em><tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">GenericHolder</tt><big>(</big><em>iter=None</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.GenericHolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic Holder class used to hold other objects of known types
It exists purely to be able to do object.somestuff, object.someotherstuff
or object[key] and pass object to another function that will
understand it</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.bunzipFile">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">bunzipFile</tt><big>(</big><em>source</em>, <em>dest</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.bunzipFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the bzipped contents of source to dest.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.cElementTree_iterparse">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">cElementTree_iterparse</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.cElementTree_iterparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Lazily load/run: cElementTree.iterparse</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.cElementTree_xmlparse">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">cElementTree_xmlparse</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.cElementTree_xmlparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Lazily load/run: cElementTree.parse</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.checksum">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">checksum</tt><big>(</big><em>sumtype</em>, <em>file</em>, <em>CHUNK=65536</em>, <em>datasize=None</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>takes filename, hand back Checksum of it
sumtype = md5 or sha/sha1/sha256/sha512 (note sha == sha1)
filename = /path/to/file
CHUNK=65536 by default</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.decompress">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">decompress</tt><big>(</big><em>filename</em>, <em>dest=None</em>, <em>fn_only=False</em>, <em>check_timestamps=False</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.decompress" title="Permalink to this definition">¶</a></dt>
<dd><p>take a filename and decompress it into the same relative location.
if the file is not compressed just return the file</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.find_ts_remaining">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">find_ts_remaining</tt><big>(</big><em>timestamp</em>, <em>yumlibpath</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.find_ts_remaining" title="Permalink to this definition">¶</a></dt>
<dd><p>this function takes the timestamp of the transaction to look at and
the path to the yum lib dir.
returns a list of tuples(action, pkgspec) for the unfinished transaction
elements. Returns an empty list if none.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.find_unfinished_transactions">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">find_unfinished_transactions</tt><big>(</big><em>yumlibpath</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.find_unfinished_transactions" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of the timestamps from the filenames of the unfinished
transactions remaining in the yumlibpath specified.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.getCacheDir">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">getCacheDir</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.misc.getCacheDir" title="Permalink to this definition">¶</a></dt>
<dd><p>return a path to a valid and safe cachedir - only used when not running
as root or when &#8211;tempcache is set</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.getFileList">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">getFileList</tt><big>(</big><em>path</em>, <em>ext</em>, <em>filelist</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.getFileList" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all files in path matching ext, store them in filelist,
recurse dirs return list object</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.get_open_files">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">get_open_files</tt><big>(</big><em>pid</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.get_open_files" title="Permalink to this definition">¶</a></dt>
<dd><p>returns files open from this pid</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.get_running_kernel_pkgtup">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">get_running_kernel_pkgtup</tt><big>(</big><em>ts</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.get_running_kernel_pkgtup" title="Permalink to this definition">¶</a></dt>
<dd><p>This takes the output of uname and figures out the pkgtup of the running
kernel (name, arch, epoch, version, release).</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.get_running_kernel_version_release">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">get_running_kernel_version_release</tt><big>(</big><em>ts</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.get_running_kernel_version_release" title="Permalink to this definition">¶</a></dt>
<dd><p>This takes the output of uname and figures out the (version, release)
tuple for the running kernel.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.get_uuid">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">get_uuid</tt><big>(</big><em>savepath</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.get_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>create, store and return a uuid. If a stored one exists, report that
if it cannot be stored, return a random one</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.getgpgkeyinfo">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">getgpgkeyinfo</tt><big>(</big><em>rawkey</em>, <em>multiple=False</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.getgpgkeyinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dict of info for the given ASCII armoured key text</p>
<p>Returned dict will have the following keys: &#8216;userid&#8217;, &#8216;keyid&#8217;, &#8216;timestamp&#8217;</p>
<p>Will raise ValueError if there was a problem decoding the key.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.getloginuid">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">getloginuid</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.misc.getloginuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the audit-uid/login-uid, if available. None is returned if there
was a problem. The value is cached, so you don&#8217;t have to save it.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.gpgkey_fingerprint_ascii">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">gpgkey_fingerprint_ascii</tt><big>(</big><em>info</em>, <em>chop=4</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.gpgkey_fingerprint_ascii" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a key_info data from getgpgkeyinfo(), return an ascii
fingerprint. Chop every 4 ascii values, as that is what GPG does.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.keyIdToRPMVer">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">keyIdToRPMVer</tt><big>(</big><em>keyid</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.keyIdToRPMVer" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an integer representing a GPG key ID to the hex version string
used by RPM</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.keyInstalled">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">keyInstalled</tt><big>(</big><em>ts</em>, <em>keyid</em>, <em>timestamp</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.keyInstalled" title="Permalink to this definition">¶</a></dt>
<dd><p>Return if the GPG key described by the given keyid and timestamp are
installed in the rpmdb.</p>
<p>The keyid and timestamp should both be passed as integers.
The ts is an rpm transaction set object</p>
<dl class="docutils">
<dt>Return values:</dt>
<dd><ul class="first last">
<li><table class="first docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-1</span></kbd></td>
<td><p class="first last">key is not installed</p>
</td></tr>
</tbody>
</table>
</li>
<li><p class="first">0       key with matching ID and timestamp is installed</p>
</li>
<li><p class="first">1       key with matching ID is installed but has a older timestamp</p>
</li>
<li><p class="first">2       key with matching ID is installed but has a newer timestamp</p>
</li>
</ul>
</dd>
</dl>
<p>No effort is made to handle duplicates. The first matching keyid is used to
calculate the return result.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.newestInList">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">newestInList</tt><big>(</big><em>pkgs</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.newestInList" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the newest in the list of packages.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.prco_tuple_to_string">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">prco_tuple_to_string</tt><big>(</big><em>prcoTuple</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.prco_tuple_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a text string of the prco from the tuple format</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.procgpgkey">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">procgpgkey</tt><big>(</big><em>rawkey</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.procgpgkey" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert ASCII armoured GPG key to binary</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.re_filename">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">re_filename</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.re_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a string could be a filename. We still get negated character
classes wrong (are they supported), and ranges in character classes.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.re_full_search_needed">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">re_full_search_needed</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.re_full_search_needed" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a string needs a full nevra match, instead of just name.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.re_glob">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">re_glob</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.re_glob" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a string is a shell wildcard.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.re_primary_dirname">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">re_primary_dirname</tt><big>(</big><em>dirname</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.re_primary_dirname" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a dirname string, can be matched against just primary. Note
that this is a subset of re_primary_filename().</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.re_primary_filename">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">re_primary_filename</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.re_primary_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a filename string, can be matched against just primary.
Note that this can produce false negatives (but not false
positives). Note that this is a superset of re_primary_dirname().</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.re_remote_url">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">re_remote_url</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.re_remote_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests if a string is a &#8220;remote&#8221; URL, http, https, ftp.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.read_in_items_from_dot_dir">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">read_in_items_from_dot_dir</tt><big>(</big><em>thisglob</em>, <em>line_as_list=True</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.read_in_items_from_dot_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a glob of a dir (like /etc/foo.d/*.foo) returns a list of all the
lines in all the files matching that glob, ignores comments and blank
lines, optional paramater &#8216;line_as_list tells whether to treat each line
as a space or comma-separated list, defaults to True.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.refineSearchPattern">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">refineSearchPattern</tt><big>(</big><em>arg</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.refineSearchPattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a search string from the cli for Search or Provides
and cleans it up so it doesn&#8217;t make us vomit</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.repo_gen_decompress">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">repo_gen_decompress</tt><big>(</big><em>filename</em>, <em>generated_name</em>, <em>cached=False</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.repo_gen_decompress" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a wrapper around decompress, where we work out a cached
generated name, and use check_timestamps. filename _must_ be from
a repo. and generated_name is the type of the file.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.return_running_pids">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">return_running_pids</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.misc.return_running_pids" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of running processids, excluding this one</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.seq_max_split">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">seq_max_split</tt><big>(</big><em>seq</em>, <em>max_entries</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.seq_max_split" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a seq, split into a list of lists of length max_entries each.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.share_data">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">share_data</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.share_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a value and use the same value from the store,
if the value isn&#8217;t in the store this one becomes the shared version.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.sortPkgObj">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">sortPkgObj</tt><big>(</big><em>pkg1</em>, <em>pkg2</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.sortPkgObj" title="Permalink to this definition">¶</a></dt>
<dd><p>sorts a list of yum package objects by name</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.stat_f">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">stat_f</tt><big>(</big><em>filename</em>, <em>ignore_EACCES=False</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.stat_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Call os.stat(), but don&#8217;t die if the file isn&#8217;t there. Returns None.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.string_to_prco_tuple">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">string_to_prco_tuple</tt><big>(</big><em>prcoString</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.string_to_prco_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a prco tuple (name, flags, (e, v, r)) for a string</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.unique">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">unique</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.unique" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the elements in s, but without duplicates.</p>
<p>For example, unique([1,2,3,1,2,3]) is some permutation of [1,2,3],
unique(&#8220;abcabc&#8221;) some permutation of [&#8220;a&#8221;, &#8220;b&#8221;, &#8220;c&#8221;], and
unique(([1, 2], [2, 3], [1, 2])) some permutation of
[[2, 3], [1, 2]].</p>
<p>For best speed, all sequence elements should be hashable.  Then
unique() will usually work in linear time.</p>
<p>If not possible, the sequence elements should enjoy a total
ordering, and if list(s).sort() doesn&#8217;t raise TypeError it&#8217;s
assumed that they do enjoy a total ordering.  Then unique() will
usually work in O(N*log2(N)) time.</p>
<p>If that&#8217;s not possible either, the sequence elements must support
equality-testing.  Then unique() will usually work in quadratic
time.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.unlink_f">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">unlink_f</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.unlink_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Call os.unlink, but don&#8217;t die if the file isn&#8217;t there. This is the main
difference between &#8220;rm -f&#8221; and plain &#8220;rm&#8221;.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.valid_detached_sig">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">valid_detached_sig</tt><big>(</big><em>sig_file</em>, <em>signed_file</em>, <em>gpghome=None</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.valid_detached_sig" title="Permalink to this definition">¶</a></dt>
<dd><p>takes signature , file that was signed and an optional gpghomedir</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.misc.version_tuple_to_string">
<tt class="descclassname">dnf.yum.misc.</tt><tt class="descname">version_tuple_to_string</tt><big>(</big><em>evrTuple</em><big>)</big><a class="headerlink" href="#dnf.yum.misc.version_tuple_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a tuple representing a package version to a string.</p>
<p>&#64;param evrTuple: A 3-tuple of epoch, version, and release.</p>
<p>Return the string representation of evrTuple.</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.packages">
<span id="dnf-yum-packages"></span><h2><a class="toc-backref" href="#id15">dnf.yum.packages</a><a class="headerlink" href="#module-dnf.yum.packages" title="Permalink to this headline">¶</a></h2>
<p>Classes and functions dealing with rpm package representations.</p>
<dl class="class">
<dt id="dnf.yum.packages.FakeRepository">
<em class="property">class </em><tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">FakeRepository</tt><big>(</big><em>repoid</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.FakeRepository" title="Permalink to this definition">¶</a></dt>
<dd><p>Fake repository class for use in rpmsack package objects</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.packages.FakeSack">
<em class="property">class </em><tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">FakeSack</tt><a class="headerlink" href="#dnf.yum.packages.FakeSack" title="Permalink to this definition">¶</a></dt>
<dd><p>Fake PackageSack to use with FakeRepository</p>
<dl class="method">
<dt id="dnf.yum.packages.FakeSack.delPackage">
<tt class="descname">delPackage</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.FakeSack.delPackage" title="Permalink to this definition">¶</a></dt>
<dd><p>delete a pkgobject, do nothing, but make localpackages work with &#8211;skip-broken</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.FakeSack.have_fastReturnFileEntries">
<tt class="descname">have_fastReturnFileEntries</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.FakeSack.have_fastReturnFileEntries" title="Permalink to this definition">¶</a></dt>
<dd><p>Is calling pkg.returnFileEntries(primary_only=True) faster than
using searchFiles().</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.packages.PackageEVR">
<em class="property">class </em><tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">PackageEVR</tt><big>(</big><em>e</em>, <em>v</em>, <em>r</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.PackageEVR" title="Permalink to this definition">¶</a></dt>
<dd><p>A comparable epoch, version, and release representation. Note that you
almost certainly want to use pkg.verEQ() or pkg.verGT() etc. instead.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.packages.PackageObject">
<em class="property">class </em><tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">PackageObject</tt><a class="headerlink" href="#dnf.yum.packages.PackageObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Base Package Object - sets up the default storage dicts and the
most common returns</p>
<dl class="method">
<dt id="dnf.yum.packages.PackageObject.printVer">
<tt class="descname">printVer</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.PackageObject.printVer" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a printable version string - including epoch, if it&#8217;s set</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.PackageObject.verCMP">
<tt class="descname">verCMP</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.PackageObject.verCMP" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare package to another one, only rpm-version ordering.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.PackageObject.verEQ">
<tt class="descname">verEQ</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.PackageObject.verEQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare package to another one, only rpm-version equality.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.PackageObject.verGE">
<tt class="descname">verGE</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.PackageObject.verGE" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses verCMP, tests if the other rpm-version is &gt;= ours.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.PackageObject.verGT">
<tt class="descname">verGT</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.PackageObject.verGT" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses verCMP, tests if the other rpm-version is &gt;  ours.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.PackageObject.verLE">
<tt class="descname">verLE</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.PackageObject.verLE" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses verCMP, tests if the other rpm-version is &lt;= ours.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.PackageObject.verLT">
<tt class="descname">verLT</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.PackageObject.verLT" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses verCMP, tests if the other rpm-version is &lt;  ours.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.PackageObject.verNE">
<tt class="descname">verNE</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.PackageObject.verNE" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare package to another one, only rpm-version inequality.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.packages.RpmBase">
<em class="property">class </em><tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">RpmBase</tt><a class="headerlink" href="#dnf.yum.packages.RpmBase" title="Permalink to this definition">¶</a></dt>
<dd><p>return functions and storage for rpm-specific data</p>
<dl class="method">
<dt id="dnf.yum.packages.RpmBase.checkPrco">
<tt class="descname">checkPrco</tt><big>(</big><em>prcotype</em>, <em>prcotuple</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.RpmBase.checkPrco" title="Permalink to this definition">¶</a></dt>
<dd><p>returns 1 or 0 if the pkg contains the requested tuple/tuple range</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.RpmBase.have_fastReturnFileEntries">
<tt class="descname">have_fastReturnFileEntries</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.RpmBase.have_fastReturnFileEntries" title="Permalink to this definition">¶</a></dt>
<dd><p>Is calling pkg.returnFileEntries(primary_only=True) faster than
using searchFiles().</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.RpmBase.inPrcoRange">
<tt class="descname">inPrcoRange</tt><big>(</big><em>prcotype</em>, <em>reqtuple</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.RpmBase.inPrcoRange" title="Permalink to this definition">¶</a></dt>
<dd><p>returns true if the package has a the prco that satisfies 
the reqtuple range, assume false.
Takes: prcotype, requested prco tuple</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.RpmBase.obsoletedBy">
<tt class="descname">obsoletedBy</tt><big>(</big><em>obsoleters</em>, <em>limit=0</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.RpmBase.obsoletedBy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of obsoleters that obsolete this package. Note that we
don&#8217;t do obsoleting loops. If limit is != 0, then we stop after
finding that many.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.RpmBase.provides_for">
<tt class="descname">provides_for</tt><big>(</big><em>reqtuple</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.RpmBase.provides_for" title="Permalink to this definition">¶</a></dt>
<dd><p>check to see if the package object provides for the requirement
passed, including searching filelists if the requirement is a file
dep</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.RpmBase.returnChangelog">
<tt class="descname">returnChangelog</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.RpmBase.returnChangelog" title="Permalink to this definition">¶</a></dt>
<dd><p>return changelog entries</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.RpmBase.returnFileEntries">
<tt class="descname">returnFileEntries</tt><big>(</big><em>ftype='file'</em>, <em>primary_only=False</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.RpmBase.returnFileEntries" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of files based on type, you can pass primary_only=True
to limit to those files in the primary repodata</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.RpmBase.returnFileTypes">
<tt class="descname">returnFileTypes</tt><big>(</big><em>primary_only=False</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.RpmBase.returnFileTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of types of files in the package, you can pass
primary_only=True to limit to those files in the primary repodata</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.RpmBase.returnPrco">
<tt class="descname">returnPrco</tt><big>(</big><em>prcotype</em>, <em>printable=False</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.RpmBase.returnPrco" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of provides, requires, conflicts or obsoletes</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.packages.YUMVerifyPackage">
<em class="property">class </em><tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">YUMVerifyPackage</tt><big>(</big><em>po</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.YUMVerifyPackage" title="Permalink to this definition">¶</a></dt>
<dd><p>A holder for YUMVerifyPackageFile objects.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.packages.YumAvailablePackage">
<em class="property">class </em><tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">YumAvailablePackage</tt><big>(</big><em>repo</em>, <em>pkgdict=None</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage" title="Permalink to this definition">¶</a></dt>
<dd><p>derived class for the  packageobject and RpmBase packageobject yum
uses this for dealing with packages in a repository</p>
<dl class="attribute">
<dt id="dnf.yum.packages.YumAvailablePackage.checksum">
<tt class="descname">checksum</tt><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the &#8216;default&#8217; checksum</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.packages.YumAvailablePackage.committer">
<tt class="descname">committer</tt><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.committer" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of the last person to do a commit to the changelog.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.packages.YumAvailablePackage.committime">
<tt class="descname">committime</tt><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.committime" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the time of the last commit to the changelog.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.YumAvailablePackage.exclude">
<tt class="descname">exclude</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.exclude" title="Permalink to this definition">¶</a></dt>
<dd><p>remove self from package sack</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.YumAvailablePackage.importFromDict">
<tt class="descname">importFromDict</tt><big>(</big><em>pkgdict</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.importFromDict" title="Permalink to this definition">¶</a></dt>
<dd><p>handles an mdCache package dictionary item to populate out 
the package information</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.YumAvailablePackage.localHdr">
<tt class="descname">localHdr</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.localHdr" title="Permalink to this definition">¶</a></dt>
<dd><p>return path to local cached Header file downloaded from package 
byte ranges</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.YumAvailablePackage.localPkg">
<tt class="descname">localPkg</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.localPkg" title="Permalink to this definition">¶</a></dt>
<dd><p>return path to local package (whether it is present there, or not)</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.YumAvailablePackage.prcoPrintable">
<tt class="descname">prcoPrintable</tt><big>(</big><em>prcoTuple</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.prcoPrintable" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the prco tuples into a nicer human string</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.YumAvailablePackage.printVer">
<tt class="descname">printVer</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.printVer" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a printable version string - including epoch, if it&#8217;s set</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.packages.YumAvailablePackage.remote_url">
<tt class="descname">remote_url</tt><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.remote_url" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a URL that can be used for downloading the package.
Note that if you&#8217;re going to download the package in your tool,
you should use self.repo.getPackage.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.YumAvailablePackage.requiresList">
<tt class="descname">requiresList</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.requiresList" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of requires in normal rpm format</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.YumAvailablePackage.returnLocalHeader">
<tt class="descname">returnLocalHeader</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.returnLocalHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an rpm header object from the package object&#8217;s local
header cache</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.packages.YumAvailablePackage.verifyLocalPkg">
<tt class="descname">verifyLocalPkg</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumAvailablePackage.verifyLocalPkg" title="Permalink to this definition">¶</a></dt>
<dd><p>check the package checksum vs the localPkg
return True if pkg is good, False if not</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.packages.YumHeaderPackage">
<em class="property">class </em><tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">YumHeaderPackage</tt><big>(</big><em>repo</em>, <em>hdr</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumHeaderPackage" title="Permalink to this definition">¶</a></dt>
<dd><p>Package object built from an rpm header</p>
<dl class="method">
<dt id="dnf.yum.packages.YumHeaderPackage.returnFileEntries">
<tt class="descname">returnFileEntries</tt><big>(</big><em>ftype='file'</em>, <em>primary_only=False</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumHeaderPackage.returnFileEntries" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of files based on type</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.packages.YumInstalledPackage">
<em class="property">class </em><tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">YumInstalledPackage</tt><big>(</big><em>hdr</em>, <em>yumdb=None</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumInstalledPackage" title="Permalink to this definition">¶</a></dt>
<dd><p>super class for dealing with packages in the rpmdb</p>
<dl class="method">
<dt id="dnf.yum.packages.YumInstalledPackage.verify">
<tt class="descname">verify</tt><big>(</big><em>patterns=</em><span class="optional">[</span><span class="optional">]</span>, <em>deps=False</em>, <em>script=False</em>, <em>fake_problems=True</em>, <em>all=False</em>, <em>fast=False</em>, <em>callback=None</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumInstalledPackage.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>verify that the installed files match the packaged checksum
optionally verify they match only if they are in the &#8216;pattern&#8217; list
returns a tuple</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.packages.YumLocalPackage">
<em class="property">class </em><tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">YumLocalPackage</tt><big>(</big><em>ts=None</em>, <em>filename=None</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumLocalPackage" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to handle an arbitrary package from a file path
this inherits most things from YumInstalledPackage because
installed packages and an arbitrary package on disk act very
much alike. init takes a ts instance and a filename/path 
to the package.</p>
<dl class="method">
<dt id="dnf.yum.packages.YumLocalPackage.verifyLocalPkg">
<tt class="descname">verifyLocalPkg</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumLocalPackage.verifyLocalPkg" title="Permalink to this definition">¶</a></dt>
<dd><p>don&#8217;t bother &#8220;checking&#8221; the package matches itself.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.packages.YumUrlPackage">
<em class="property">class </em><tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">YumUrlPackage</tt><big>(</big><em>yb=None</em>, <em>ts=None</em>, <em>url=None</em>, <em>ua=None</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.YumUrlPackage" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to handle an arbitrary package from a URL
this inherits most things from YumLocalPackage, but will download a
remote package to make it local.
init takes a YumBase, a ts instance and a url to the package.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.packages.buildPkgRefDict">
<tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">buildPkgRefDict</tt><big>(</big><em>pkgs</em>, <em>casematch=True</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.buildPkgRefDict" title="Permalink to this definition">¶</a></dt>
<dd><p>take a list of pkg objects and return a dict the contains all the possible
naming conventions for them eg: for (name,i386,0,1,1)
dict[name] = (name, i386, 0, 1, 1)
dict[name.i386] = (name, i386, 0, 1, 1)
dict[name-1-1.i386] = (name, i386, 0, 1, 1)       
dict[name-1] = (name, i386, 0, 1, 1)       
dict[name-1-1] = (name, i386, 0, 1, 1)
dict[0:name-1-1.i386] = (name, i386, 0, 1, 1)
dict[name-0:1-1.i386] = (name, i386, 0, 1, 1)</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.packages.comparePoEVR">
<tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">comparePoEVR</tt><big>(</big><em>po1</em>, <em>po2</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.comparePoEVR" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two Package or PackageEVR objects.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.packages.comparePoEVREQ">
<tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">comparePoEVREQ</tt><big>(</big><em>po1</em>, <em>po2</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.comparePoEVREQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two Package or PackageEVR objects for equality.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.packages.parsePackages">
<tt class="descclassname">dnf.yum.packages.</tt><tt class="descname">parsePackages</tt><big>(</big><em>pkgs</em>, <em>usercommands</em>, <em>casematch=0</em>, <em>unique='repo-epoch-name-version-release-arch'</em><big>)</big><a class="headerlink" href="#dnf.yum.packages.parsePackages" title="Permalink to this definition">¶</a></dt>
<dd><p>matches up the user request versus a pkg list:
for installs/updates available pkgs should be the &#8216;others list&#8217; 
for removes it should be the installed list of pkgs
takes an optional casematch option to determine if case should be matched
exactly. Defaults to not matching.</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.parser">
<span id="dnf-yum-parser"></span><h2><a class="toc-backref" href="#id16">dnf.yum.parser</a><a class="headerlink" href="#module-dnf.yum.parser" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dnf.yum.parser.ConfigPreProcessor">
<em class="property">class </em><tt class="descclassname">dnf.yum.parser.</tt><tt class="descname">ConfigPreProcessor</tt><big>(</big><em>configfile</em>, <em>vars=None</em><big>)</big><a class="headerlink" href="#dnf.yum.parser.ConfigPreProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>ConfigParser Include Pre-Processor</p>
<p>File-like Object capable of pre-processing include= lines for
a ConfigParser.</p>
<p>The readline function expands lines matching include=(url)
into lines from the url specified. Includes may occur in
included files as well.</p>
<dl class="docutils">
<dt>Suggested Usage::</dt>
<dd>cfg = ConfigParser.ConfigParser()
fileobj = confpp( fileorurl )
cfg.readfp(fileobj)</dd>
</dl>
<dl class="method">
<dt id="dnf.yum.parser.ConfigPreProcessor.readline">
<tt class="descname">readline</tt><big>(</big><em>size=0</em><big>)</big><a class="headerlink" href="#dnf.yum.parser.ConfigPreProcessor.readline" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of File-Like Object readline function. This should be
the only function called by ConfigParser according to the python docs.
We maintain a stack of real FLOs and delegate readline calls to the 
FLO on top of the stack. When EOF occurs on the topmost FLO, it is 
popped off the stack and the next FLO takes over. include= lines 
found anywhere cause a new FLO to be opened and pushed onto the top 
of the stack. Finally, we return EOF when the bottom-most (configfile
arg to __init__) FLO returns EOF.</p>
<p>Very Technical Pseudo Code:</p>
<div class="highlight-python"><pre>def confpp.readline() [this is called by ConfigParser]
    open configfile, push on stack
    while stack has some stuff on it
        line = readline from file on top of stack
        pop and continue if line is EOF
        if line starts with 'include=' then
            error if file is recursive or duplicate
            otherwise open file, push on stack
            continue
        else
            return line
    
    return EOF</pre>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="dnf.yum.parser.varReplace">
<tt class="descclassname">dnf.yum.parser.</tt><tt class="descname">varReplace</tt><big>(</big><em>raw</em>, <em>vars</em><big>)</big><a class="headerlink" href="#dnf.yum.parser.varReplace" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform variable replacement</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>raw</strong> &#8211; String to perform substitution on.</li>
<li><strong>vars</strong> &#8211; Dictionary of variables to replace. Key is variable name
(without $ prefix). Value is replacement string.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Input raw string with substituted values.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.pgpmsg">
<span id="dnf-yum-pgpmsg"></span><h2><a class="toc-backref" href="#id17">dnf.yum.pgpmsg</a><a class="headerlink" href="#module-dnf.yum.pgpmsg" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dnf.yum.pgpmsg.decode_msg">
<tt class="descclassname">dnf.yum.pgpmsg.</tt><tt class="descname">decode_msg</tt><big>(</big><em>msg</em>, <em>multi=False</em><big>)</big><a class="headerlink" href="#dnf.yum.pgpmsg.decode_msg" title="Permalink to this definition">¶</a></dt>
<dd><p>decode_msg(msg) ==&gt; list of OpenPGP &#8220;packet&#8221; objects
Takes an ascii-armored PGP block and returns a list of objects each of which
corresponds to a PGP &#8220;packets&#8221;.</p>
<p>A PGP message is a series of packets. You need to understand how packets are
to be combined together in order to know what to do with them. For example
a PGP &#8220;certificate&#8221; includes a public key, user id(s), and signature.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.pgpmsg.get_ctb">
<tt class="descclassname">dnf.yum.pgpmsg.</tt><tt class="descname">get_ctb</tt><big>(</big><em>msg</em>, <em>idx</em><big>)</big><a class="headerlink" href="#dnf.yum.pgpmsg.get_ctb" title="Permalink to this definition">¶</a></dt>
<dd><p>extracts a the &#8220;cypher type bit&#8221; information from message msg at index idx
returns (type, len, new_idx) where type is the enumerated type of the packet,
len is the length of the packet, and new_idx is the index of the next element
in the message</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.pgpmsg.get_mpi">
<tt class="descclassname">dnf.yum.pgpmsg.</tt><tt class="descname">get_mpi</tt><big>(</big><em>msg</em>, <em>idx</em><big>)</big><a class="headerlink" href="#dnf.yum.pgpmsg.get_mpi" title="Permalink to this definition">¶</a></dt>
<dd><p>extracts a multi-precision integer field from the message msg at index idx
returns (&lt;mpi&gt;, new_idx) where the mpi is a long integer and new_idx is
the index of the next element in the message</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.pgpmsg.get_n_mpi">
<tt class="descclassname">dnf.yum.pgpmsg.</tt><tt class="descname">get_n_mpi</tt><big>(</big><em>msg</em>, <em>idx</em><big>)</big><a class="headerlink" href="#dnf.yum.pgpmsg.get_n_mpi" title="Permalink to this definition">¶</a></dt>
<dd><p>get_mpi(msg, idx)
extracts a multi-precision integer field from the message msg at index idx
returns (n, &lt;mpi&gt;, new_idx) where the mpi is a long integer and new_idx is
the index of the next element in the message and n is the number of bits of
precision in &lt;mpi&gt;</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.pgpmsg.get_sig_subpak_len">
<tt class="descclassname">dnf.yum.pgpmsg.</tt><tt class="descname">get_sig_subpak_len</tt><big>(</big><em>msg</em>, <em>idx</em><big>)</big><a class="headerlink" href="#dnf.yum.pgpmsg.get_sig_subpak_len" title="Permalink to this definition">¶</a></dt>
<dd><p>extracts a signature subpacket length field
returns (subpak_len, new_idx)</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.pgpmsg.get_whole_int">
<tt class="descclassname">dnf.yum.pgpmsg.</tt><tt class="descname">get_whole_int</tt><big>(</big><em>msg</em>, <em>idx</em>, <em>numlen</em><big>)</big><a class="headerlink" href="#dnf.yum.pgpmsg.get_whole_int" title="Permalink to this definition">¶</a></dt>
<dd><p>same as get_whole_number but returns the number as an int for convenience</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.pgpmsg.get_whole_number">
<tt class="descclassname">dnf.yum.pgpmsg.</tt><tt class="descname">get_whole_number</tt><big>(</big><em>msg</em>, <em>idx</em>, <em>numlen</em><big>)</big><a class="headerlink" href="#dnf.yum.pgpmsg.get_whole_number" title="Permalink to this definition">¶</a></dt>
<dd><p>extracts a &#8220;whole number&#8221; field of length numlen from msg at index idx
returns (&lt;whole number&gt;, new_idx) where the whole number is a long integer
and new_idx is the index of the next element in the message</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.pgpmsg.pack_long">
<tt class="descclassname">dnf.yum.pgpmsg.</tt><tt class="descname">pack_long</tt><big>(</big><em>l</em><big>)</big><a class="headerlink" href="#dnf.yum.pgpmsg.pack_long" title="Permalink to this definition">¶</a></dt>
<dd><p>returns big-endian representation of unsigned long integer</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.pgpmsg.pack_mpi">
<tt class="descclassname">dnf.yum.pgpmsg.</tt><tt class="descname">pack_mpi</tt><big>(</big><em>l</em><big>)</big><a class="headerlink" href="#dnf.yum.pgpmsg.pack_mpi" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the PGP Multi-Precision Integer representation of unsigned long integer</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.pkgtag_db">
<span id="dnf-yum-pkgtag-db"></span><h2><a class="toc-backref" href="#id18">dnf.yum.pkgtag_db</a><a class="headerlink" href="#module-dnf.yum.pkgtag_db" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="dnf.yum.pkgtag_db.catchSqliteException">
<tt class="descclassname">dnf.yum.pkgtag_db.</tt><tt class="descname">catchSqliteException</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#dnf.yum.pkgtag_db.catchSqliteException" title="Permalink to this definition">¶</a></dt>
<dd><p>This decorator converts sqlite exceptions into PkgTagsError</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.plugins">
<span id="dnf-yum-plugins"></span><h2><a class="toc-backref" href="#id19">dnf.yum.plugins</a><a class="headerlink" href="#module-dnf.yum.plugins" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dnf.yum.plugins.ArgsPluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">ArgsPluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em>, <em>args</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.ArgsPluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduit for dealing with command line arguments.</p>
<dl class="method">
<dt id="dnf.yum.plugins.ArgsPluginConduit.getArgs">
<tt class="descname">getArgs</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.ArgsPluginConduit.getArgs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the command line arguments passed to yum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of the command line arguments passed to yum</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.CompareProvidersPluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">CompareProvidersPluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em>, <em>providers_dict={}</em>, <em>reqpo=None</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.CompareProvidersPluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduit to compare different providers of packages.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.ConfigPluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">ConfigPluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.ConfigPluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>A conduit for use in the config slot.</p>
<dl class="method">
<dt id="dnf.yum.plugins.ConfigPluginConduit.registerCommand">
<tt class="descname">registerCommand</tt><big>(</big><em>command</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.ConfigPluginConduit.registerCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a new command.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>command</strong> &#8211; the command to register</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">Errors.ConfigError</span></tt> if the registration
of commands is not supported</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.ConfigPluginConduit.registerOpt">
<tt class="descname">registerOpt</tt><big>(</big><em>name</em>, <em>valuetype</em>, <em>where</em>, <em>default</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.ConfigPluginConduit.registerOpt" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated.  Register a yum configuration file option.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of the new option</li>
<li><strong>valuetype</strong> &#8211; option type (PLUG_OPT_BOOL, PLUG_OPT_STRING, etc.)</li>
<li><strong>where</strong> &#8211; where the option should be available in the config file
(PLUG_OPT_WHERE_MAIN, PLUG_OPT_WHERE_REPO, etc)</li>
<li><strong>default</strong> &#8211; default value for the option if it is not set by the user</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.DeprecatedInt">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">DeprecatedInt</tt><a class="headerlink" href="#dnf.yum.plugins.DeprecatedInt" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple int subclass that is used to check when a deprecated
constant is used.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.DepsolvePluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">DepsolvePluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em>, <em>rescode=None</em>, <em>restring=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#dnf.yum.plugins.DepsolvePluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduit for use in solving dependencies.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.DownloadPluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">DownloadPluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em>, <em>pkglist</em>, <em>errors=None</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.DownloadPluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduit for use in the download slots.</p>
<dl class="method">
<dt id="dnf.yum.plugins.DownloadPluginConduit.getDownloadPackages">
<tt class="descname">getDownloadPackages</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.DownloadPluginConduit.getDownloadPackages" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of package objects representing packages to be
downloaded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of package object representing packages to be
downloaded</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.DownloadPluginConduit.getErrors">
<tt class="descname">getErrors</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.DownloadPluginConduit.getErrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of download errors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary of download errors. This dictionary is
indexed by package object. Each element is a list of
strings describing the error</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.DummyYumPlugins">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">DummyYumPlugins</tt><a class="headerlink" href="#dnf.yum.plugins.DummyYumPlugins" title="Permalink to this definition">¶</a></dt>
<dd><p>This class provides basic emulation of the <a class="reference internal" href="#dnf.yum.plugins.YumPlugins" title="dnf.yum.plugins.YumPlugins"><tt class="xref py py-class docutils literal"><span class="pre">YumPlugins</span></tt></a>
class. It exists so that calls to plugins.run() don&#8217;t fail if
plugins aren&#8217;t in use.</p>
<dl class="method">
<dt id="dnf.yum.plugins.DummyYumPlugins.run">
<tt class="descname">run</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.DummyYumPlugins.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Do nothing.  All arguments are unused.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.DummyYumPlugins.setCmdLine">
<tt class="descname">setCmdLine</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.DummyYumPlugins.setCmdLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Do nothing.  All arguments are unused.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.HistoryPluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">HistoryPluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em>, <em>rescode=None</em>, <em>restring=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#dnf.yum.plugins.HistoryPluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduit to access information about the yum history.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.InitPluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">InitPluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.InitPluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduit for use in the init slot.</p>
<dl class="method">
<dt id="dnf.yum.plugins.InitPluginConduit.getConf">
<tt class="descname">getConf</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.InitPluginConduit.getConf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary containing the values of the
configuration options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary containing the values of the
configuration options</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.InitPluginConduit.getRepos">
<tt class="descname">getRepos</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.InitPluginConduit.getRepos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Yum&#8217;s container object for all configured repositories.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Yum&#8217;s <tt class="xref py py-class docutils literal"><span class="pre">repos.RepoStorage</span></tt> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.MainPluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">MainPluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.MainPluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Main conduit class for plugins.  Many other conduit classes
will inherit from this class.</p>
<dl class="method">
<dt id="dnf.yum.plugins.MainPluginConduit.delPackage">
<tt class="descname">delPackage</tt><big>(</big><em>po</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.MainPluginConduit.delPackage" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the given package from the package sack.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>po</strong> &#8211; the package object to delete</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.MainPluginConduit.getPackageByNevra">
<tt class="descname">getPackageByNevra</tt><big>(</big><em>nevra</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.MainPluginConduit.getPackageByNevra" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a package object from the packages loaded by Yum using
nevra information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nevra</strong> &#8211; a tuple holding (name, epoch, version, release, arch)
for a package</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a <tt class="xref py py-class docutils literal"><span class="pre">packages.PackageObject</span></tt> instance (or subclass)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.MainPluginConduit.getPackages">
<tt class="descname">getPackages</tt><big>(</big><em>repo=None</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.MainPluginConduit.getPackages" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of packages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>repo</strong> &#8211; the repo to return a packages from</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of package objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.MainPluginConduit.getTsInfo">
<tt class="descname">getTsInfo</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.MainPluginConduit.getTsInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Return transaction set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the transaction set</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.PluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">PluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>A conduit class to transfer information between yum and the
plugin.</p>
<dl class="method">
<dt id="dnf.yum.plugins.PluginConduit.confBool">
<tt class="descname">confBool</tt><big>(</big><em>section</em>, <em>opt</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginConduit.confBool" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a boolean value from the plugin&#8217;s own configuration file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>section</strong> &#8211; configuration file section to read</li>
<li><strong>opt</strong> &#8211; option name to read</li>
<li><strong>default</strong> &#8211; value to read if the option is missing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">boolean option value read, or <em>default</em> if the option
was missing or could not be parsed</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.PluginConduit.confFloat">
<tt class="descname">confFloat</tt><big>(</big><em>section</em>, <em>opt</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginConduit.confFloat" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a float value from the plugin&#8217;s own configuration file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>section</strong> &#8211; configuration file section to read</li>
<li><strong>opt</strong> &#8211; option name to read</li>
<li><strong>default</strong> &#8211; value to read if the option is missing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float option value read, or <em>default</em> if the option was
missing or could not be parsed</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.PluginConduit.confInt">
<tt class="descname">confInt</tt><big>(</big><em>section</em>, <em>opt</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginConduit.confInt" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an integer value from the plugin&#8217;s own configuration file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>section</strong> &#8211; configuration file section to read</li>
<li><strong>opt</strong> &#8211; option name to read</li>
<li><strong>default</strong> &#8211; value to read if the option is missing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the integer option value read, or <em>default</em> if the
option was missing or could not be parsed</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.PluginConduit.confString">
<tt class="descname">confString</tt><big>(</big><em>section</em>, <em>opt</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginConduit.confString" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a string value from the plugin&#8217;s own configuration file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>section</strong> &#8211; configuration file section to read</li>
<li><strong>opt</strong> &#8211; option name to read</li>
<li><strong>default</strong> &#8211; value to read if the option is missing</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">string option value read, or default if option was missing</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.PluginConduit.error">
<tt class="descname">error</tt><big>(</big><em>level</em>, <em>msg</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginConduit.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an error message to the logger.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>level</strong> &#8211; the level of the message to send</li>
<li><strong>msg</strong> &#8211; the message to send</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.PluginConduit.getOptParser">
<tt class="descname">getOptParser</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginConduit.getOptParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <tt class="xref py py-class docutils literal"><span class="pre">optparse.OptionParser</span></tt> instance for this
execution of Yum.  In the &#8220;config&#8221; and &#8220;init&#8221; slots a plugin
may add extra options to this instance to extend the command
line options that Yum exposes.  In all other slots a plugin
may only read the <tt class="xref py py-class docutils literal"><span class="pre">OptionParser</span></tt> instance.  Any
modification of the instance at this point will have no
effect.  See the
<a class="reference internal" href="#dnf.yum.plugins.PreRepoSetupPluginConduit.getCmdLine" title="dnf.yum.plugins.PreRepoSetupPluginConduit.getCmdLine"><tt class="xref py py-func docutils literal"><span class="pre">PreRepoSetupPluginConduit.getCmdLine()</span></tt></a> method for
details on how to retrieve the parsed values of command line
options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the global <tt class="xref py py-class docutils literal"><span class="pre">optparse.OptionParser</span></tt> instance used by
Yum. May be None if an OptionParser isn&#8217;t in use</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.PluginConduit.getYumVersion">
<tt class="descname">getYumVersion</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginConduit.getYumVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string representing the current version of yum.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.PluginConduit.info">
<tt class="descname">info</tt><big>(</big><em>level</em>, <em>msg</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginConduit.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an info message to the logger.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>level</strong> &#8211; the level of the message to send</li>
<li><strong>msg</strong> &#8211; the message to send</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.PluginConduit.promptYN">
<tt class="descname">promptYN</tt><big>(</big><em>msg</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginConduit.promptYN" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a yes or no response, either from assumeyes already
being set, or from prompting the user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>msg</strong> &#8211; the message to prompt the user with</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">1 if the response is yes, and 0 if the response is no</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.PluginConduit.registerPackageName">
<tt class="descname">registerPackageName</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginConduit.registerPackageName" title="Permalink to this definition">¶</a></dt>
<dd><p>Register the name of a package to use.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> &#8211; the name of the package to register</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="dnf.yum.plugins.PluginYumExit">
<em class="property">exception </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">PluginYumExit</tt><big>(</big><em>value=''</em>, <em>translation_domain=''</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PluginYumExit" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception that can be raised by plugins to signal that yum should stop.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.PostConfigPluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">PostConfigPluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PostConfigPluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduit for use in the postconfig slot.</p>
<dl class="method">
<dt id="dnf.yum.plugins.PostConfigPluginConduit.getConf">
<tt class="descname">getConf</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PostConfigPluginConduit.getConf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary containing the values of the
configuration options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary containing the values of the
configuration options</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.PostRepoSetupPluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">PostRepoSetupPluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PostRepoSetupPluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduit for use in the postreposetup slot.</p>
<dl class="method">
<dt id="dnf.yum.plugins.PostRepoSetupPluginConduit.getGroups">
<tt class="descname">getGroups</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PostRepoSetupPluginConduit.getGroups" title="Permalink to this definition">¶</a></dt>
<dd><p>Return group information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">comps.Comps</span></tt> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.PreRepoSetupPluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">PreRepoSetupPluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PreRepoSetupPluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduit for use in the prererosetup slot.</p>
<dl class="method">
<dt id="dnf.yum.plugins.PreRepoSetupPluginConduit.getCmdLine">
<tt class="descname">getCmdLine</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PreRepoSetupPluginConduit.getCmdLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Return parsed command line options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(options, commands) as returned by <tt class="xref py py-class docutils literal"><span class="pre">OptionParser.parse_args()</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.PreRepoSetupPluginConduit.getRpmDB">
<tt class="descname">getRpmDB</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.plugins.PreRepoSetupPluginConduit.getRpmDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a representation of the local RPM database. This
allows querying of installed packages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a <tt class="xref py py-class docutils literal"><span class="pre">dnf.rpmUtils.RpmDBHolder</span></tt> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.VerifyPluginConduit">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">VerifyPluginConduit</tt><big>(</big><em>parent</em>, <em>base</em>, <em>conf</em>, <em>verify_package</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.VerifyPluginConduit" title="Permalink to this definition">¶</a></dt>
<dd><p>Conduit to verify packages.</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.plugins.YumPlugins">
<em class="property">class </em><tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">YumPlugins</tt><big>(</big><em>base</em>, <em>searchpath</em>, <em>optparser=None</em>, <em>types=None</em>, <em>pluginconfpath=None</em>, <em>disabled=None</em>, <em>enabled=None</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.YumPlugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Manager class for Yum plugins.</p>
<dl class="method">
<dt id="dnf.yum.plugins.YumPlugins.run">
<tt class="descname">run</tt><big>(</big><em>slotname</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.YumPlugins.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run all plugin functions for the given slot.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>slotname</strong> &#8211; a string representing the name of the slot to
run the plugins for</li>
<li><strong>kwargs</strong> &#8211; keyword arguments that will be simply passed on
to the plugins</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.plugins.YumPlugins.setCmdLine">
<tt class="descname">setCmdLine</tt><big>(</big><em>opts</em>, <em>commands</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.YumPlugins.setCmdLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parsed command line options so that plugins can
access them.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>opts</strong> &#8211; a dictionary containing the values of the command
line options</li>
<li><strong>commands</strong> &#8211; a list of command line arguments passed to yum</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="dnf.yum.plugins.apiverok">
<tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">apiverok</tt><big>(</big><em>a</em>, <em>b</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.apiverok" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if API version &#8220;a&#8221; supports API version &#8220;b&#8221;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> &#8211; a string representing an api version</li>
<li><strong>b</strong> &#8211; a string representing an api version</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">whether version <em>a</em> supports version <em>b</em></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.plugins.parsever">
<tt class="descclassname">dnf.yum.plugins.</tt><tt class="descname">parsever</tt><big>(</big><em>apiver</em><big>)</big><a class="headerlink" href="#dnf.yum.plugins.parsever" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a string representing an api version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>apiver</strong> &#8211; a string representing an api version</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a tuple containing the major and minor version numbers</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.repoMDObject">
<span id="dnf-yum-repomdobject"></span><h2><a class="toc-backref" href="#id20">dnf.yum.repoMDObject</a><a class="headerlink" href="#module-dnf.yum.repoMDObject" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dnf.yum.repoMDObject.RepoData">
<em class="property">class </em><tt class="descclassname">dnf.yum.repoMDObject.</tt><tt class="descname">RepoData</tt><big>(</big><em>elem=None</em><big>)</big><a class="headerlink" href="#dnf.yum.repoMDObject.RepoData" title="Permalink to this definition">¶</a></dt>
<dd><p>represents anything beneath a &lt;data&gt; tag</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.repoMDObject.RepoMD">
<em class="property">class </em><tt class="descclassname">dnf.yum.repoMDObject.</tt><tt class="descname">RepoMD</tt><big>(</big><em>repoid</em>, <em>srcfile=None</em><big>)</big><a class="headerlink" href="#dnf.yum.repoMDObject.RepoMD" title="Permalink to this definition">¶</a></dt>
<dd><p>represents the repomd xml file</p>
<dl class="method">
<dt id="dnf.yum.repoMDObject.RepoMD.dump">
<tt class="descname">dump</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.repoMDObject.RepoMD.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>dump fun output</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.repoMDObject.RepoMD.fileTypes">
<tt class="descname">fileTypes</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.repoMDObject.RepoMD.fileTypes" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of metadata file types available</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dnf.yum.repos">
<span id="dnf-yum-repos"></span><h2><a class="toc-backref" href="#id21">dnf.yum.repos</a><a class="headerlink" href="#module-dnf.yum.repos" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dnf.yum.repos.RepoStorage">
<em class="property">class </em><tt class="descclassname">dnf.yum.repos.</tt><tt class="descname">RepoStorage</tt><big>(</big><em>ayum</em><big>)</big><a class="headerlink" href="#dnf.yum.repos.RepoStorage" title="Permalink to this definition">¶</a></dt>
<dd><p>This class contains multiple repositories and core configuration data
about them.</p>
<dl class="method">
<dt id="dnf.yum.repos.RepoStorage.disableRepo">
<tt class="descname">disableRepo</tt><big>(</big><em>repoid</em><big>)</big><a class="headerlink" href="#dnf.yum.repos.RepoStorage.disableRepo" title="Permalink to this definition">¶</a></dt>
<dd><p>disable a repository from use</p>
<p>fnmatch wildcards may be used to disable a group of repositories.
returns repoid of disabled repos as list</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.repos.RepoStorage.enableRepo">
<tt class="descname">enableRepo</tt><big>(</big><em>repoid</em><big>)</big><a class="headerlink" href="#dnf.yum.repos.RepoStorage.enableRepo" title="Permalink to this definition">¶</a></dt>
<dd><p>enable a repository for use</p>
<p>fnmatch wildcards may be used to enable a group of repositories.
returns repoid of enables repos as list</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.repos.RepoStorage.findRepos">
<tt class="descname">findRepos</tt><big>(</big><em>pattern</em><big>)</big><a class="headerlink" href="#dnf.yum.repos.RepoStorage.findRepos" title="Permalink to this definition">¶</a></dt>
<dd><p>find all repositories matching fnmatch <cite>pattern</cite></p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.repos.RepoStorage.listEnabled">
<tt class="descname">listEnabled</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.repos.RepoStorage.listEnabled" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of enabled repo objects</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.repos.RepoStorage.listGroupsEnabled">
<tt class="descname">listGroupsEnabled</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.repos.RepoStorage.listGroupsEnabled" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of repo objects that have groups enabled</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.repos.RepoStorage.setCache">
<tt class="descname">setCache</tt><big>(</big><em>cacheval</em><big>)</big><a class="headerlink" href="#dnf.yum.repos.RepoStorage.setCache" title="Permalink to this definition">¶</a></dt>
<dd><p>sets cache value in all repos</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.repos.RepoStorage.setFailureCallback">
<tt class="descname">setFailureCallback</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#dnf.yum.repos.RepoStorage.setFailureCallback" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the failure callback for all repos</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.repos.RepoStorage.setMirrorFailureCallback">
<tt class="descname">setMirrorFailureCallback</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#dnf.yum.repos.RepoStorage.setMirrorFailureCallback" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the failure callback for all mirrors</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.repos.RepoStorage.setProgressBar">
<tt class="descname">setProgressBar</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#dnf.yum.repos.RepoStorage.setProgressBar" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the progress bar for downloading files from repos</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.repos.Repository">
<em class="property">class </em><tt class="descclassname">dnf.yum.repos.</tt><tt class="descname">Repository</tt><big>(</big><em>repoid</em><big>)</big><a class="headerlink" href="#dnf.yum.repos.Repository" title="Permalink to this definition">¶</a></dt>
<dd><p>this is an actual repository object</p>
<dl class="method">
<dt id="dnf.yum.repos.Repository.setAttribute">
<tt class="descname">setAttribute</tt><big>(</big><em>key</em>, <em>value</em><big>)</big><a class="headerlink" href="#dnf.yum.repos.Repository.setAttribute" title="Permalink to this definition">¶</a></dt>
<dd><p>sets a generic attribute of this repository</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dnf.yum.rpmsack">
<span id="dnf-yum-rpmsack"></span><h2><a class="toc-backref" href="#id22">dnf.yum.rpmsack</a><a class="headerlink" href="#module-dnf.yum.rpmsack" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dnf.yum.rpmsack.RPMDBAdditionalData">
<em class="property">class </em><tt class="descclassname">dnf.yum.rpmsack.</tt><tt class="descname">RPMDBAdditionalData</tt><big>(</big><em>db_path='/var/lib/yum/yumdb'</em>, <em>version_path=None</em><big>)</big><a class="headerlink" href="#dnf.yum.rpmsack.RPMDBAdditionalData" title="Permalink to this definition">¶</a></dt>
<dd><p>class for access to the additional data not able to be stored in the
rpmdb</p>
<dl class="method">
<dt id="dnf.yum.rpmsack.RPMDBAdditionalData.get_package">
<tt class="descname">get_package</tt><big>(</big><em>po=None</em>, <em>pkgtup=None</em>, <em>pkgid=None</em><big>)</big><a class="headerlink" href="#dnf.yum.rpmsack.RPMDBAdditionalData.get_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an RPMDBAdditionalDataPackage Object for this package</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.rpmsack.RPMDBAdditionalData.sync_with_rpmdb">
<tt class="descname">sync_with_rpmdb</tt><big>(</big><em>rpmdbobj</em><big>)</big><a class="headerlink" href="#dnf.yum.rpmsack.RPMDBAdditionalData.sync_with_rpmdb" title="Permalink to this definition">¶</a></dt>
<dd><p>populate out the dirs and remove all the items no longer in the rpmd
and/or populate various bits to the currently installed version</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.rpmsack.RPMDBProblem">
<em class="property">class </em><tt class="descclassname">dnf.yum.rpmsack.</tt><tt class="descname">RPMDBProblem</tt><big>(</big><em>pkg</em>, <em>problem</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#dnf.yum.rpmsack.RPMDBProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a problem in the rpmdb, from the check_*() functions.</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.rpmtrans">
<span id="dnf-yum-rpmtrans"></span><h2><a class="toc-backref" href="#id23">dnf.yum.rpmtrans</a><a class="headerlink" href="#module-dnf.yum.rpmtrans" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dnf.yum.rpmtrans.RPMBaseCallback">
<em class="property">class </em><tt class="descclassname">dnf.yum.rpmtrans.</tt><tt class="descname">RPMBaseCallback</tt><a class="headerlink" href="#dnf.yum.rpmtrans.RPMBaseCallback" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for a RPMTransaction display callback class</p>
<dl class="method">
<dt id="dnf.yum.rpmtrans.RPMBaseCallback.event">
<tt class="descname">event</tt><big>(</big><em>package</em>, <em>action</em>, <em>te_current</em>, <em>te_total</em>, <em>ts_current</em>, <em>ts_total</em><big>)</big><a class="headerlink" href="#dnf.yum.rpmtrans.RPMBaseCallback.event" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>package</strong> &#8211; A yum package object or simple string of a package name</li>
<li><strong>action</strong> &#8211; A yum.constant transaction set state or in the obscure
rpm repackage case it could be the string &#8216;repackaging&#8217;</li>
<li><strong>te_current</strong> &#8211; Current number of bytes processed in the transaction
element being processed</li>
<li><strong>te_total</strong> &#8211; Total number of bytes in the transaction element being
processed</li>
<li><strong>ts_current</strong> &#8211; number of processes completed in whole transaction</li>
<li><strong>ts_total</strong> &#8211; total number of processes in the transaction.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.rpmtrans.RPMBaseCallback.scriptout">
<tt class="descname">scriptout</tt><big>(</big><em>package</em>, <em>msgs</em><big>)</big><a class="headerlink" href="#dnf.yum.rpmtrans.RPMBaseCallback.scriptout" title="Permalink to this definition">¶</a></dt>
<dd><p>package is the package.  msgs is the messages that were
output (if any).</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.rpmtrans.RPMBaseCallback.verify_txmbr">
<tt class="descname">verify_txmbr</tt><big>(</big><em>base</em>, <em>txmbr</em>, <em>count</em><big>)</big><a class="headerlink" href="#dnf.yum.rpmtrans.RPMBaseCallback.verify_txmbr" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback for post transaction when we are in verifyTransaction().</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dnf.yum.sqlutils">
<span id="dnf-yum-sqlutils"></span><h2><a class="toc-backref" href="#id24">dnf.yum.sqlutils</a><a class="headerlink" href="#module-dnf.yum.sqlutils" title="Permalink to this headline">¶</a></h2>
<p>utility functions to handle differences in pysqlite versions
These are from Wichert Akkerman &lt;<a class="reference external" href="mailto:wichert&#37;&#52;&#48;deephackmode&#46;org">wichert<span>&#64;</span>deephackmode<span>&#46;</span>org</a>&gt;&#8217;s python-dhm
<a class="reference external" href="http://www.wiggy.net/code/python-dhm">http://www.wiggy.net/code/python-dhm</a></p>
<dl class="function">
<dt id="dnf.yum.sqlutils.QmarkToPyformat">
<tt class="descclassname">dnf.yum.sqlutils.</tt><tt class="descname">QmarkToPyformat</tt><big>(</big><em>query</em>, <em>params</em><big>)</big><a class="headerlink" href="#dnf.yum.sqlutils.QmarkToPyformat" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from qmark to pyformat parameter style.</p>
<p>The python DB-API 2.0 specifies four different possible parameter
styles that can be used by drivers. This function converts from the
qmark style to pyformat style.</p>
<p>&#64;param  query: SQL query to transform
&#64;type   query: string
&#64;param params: arguments to query
&#64;type  params: sequence of strings
&#64;return: converted query and parameters
&#64;rtype:  tuple with the new command and a dictionary of arguments</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.sqlutils.Tokenize">
<tt class="descclassname">dnf.yum.sqlutils.</tt><tt class="descname">Tokenize</tt><big>(</big><em>str</em>, <em>whitespace=' \t\r\n'</em>, <em>quotes='&quot;'</em>, <em>escapes='\\'</em><big>)</big><a class="headerlink" href="#dnf.yum.sqlutils.Tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>String tokenizer</p>
<p>This function tokenizes a string while taking quotation and
escaping into account.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">dhm.strtools</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dhm</span><span class="o">.</span><span class="n">strtools</span><span class="o">.</span><span class="n">Tokenize</span><span class="p">(</span><span class="s">&quot;this is a test&quot;</span><span class="p">)</span>
<span class="go">[&#39;this&#39;, &#39;is&#39;, &#39;a&#39;, &#39;test&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dhm</span><span class="o">.</span><span class="n">strtools</span><span class="o">.</span><span class="n">Tokenize</span><span class="p">(</span><span class="s">&quot;this &quot;</span><span class="ow">is</span> <span class="n">a</span><span class="s">&quot; test&quot;</span><span class="p">)</span>
<span class="go">[&#39;this&#39;, &#39;is a&#39;, &#39;test&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dhm</span><span class="o">.</span><span class="n">strtools</span><span class="o">.</span><span class="n">Tokenize</span><span class="p">(</span><span class="s">&quot;this </span><span class="se">\&quot;</span><span class="s">is</span><span class="se">\&quot;</span><span class="s"> a test&quot;</span><span class="p">)</span>
<span class="go">[&#39;this&#39;, &#39;&quot;is&quot;&#39;, &#39;a&#39;, &#39;test&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dhm</span><span class="o">.</span><span class="n">strtools</span><span class="o">.</span><span class="n">Tokenize</span><span class="p">(</span><span class="s">&quot;this &quot;</span><span class="ow">is</span> <span class="n">a</span> <span class="n">test</span><span class="s">&quot;)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">?</span>
  File <span class="nb">&quot;/usr/local/lib/python2.2/site-packages/dhm/strtools.py&quot;</span>, line <span class="m">80</span>, in <span class="n">Tokenize</span>
    <span class="k">raise</span> <span class="n">TokenizeError</span><span class="p">,</span> <span class="s">&quot;Unexpected end of string in quoted text&quot;</span>
<span class="gr">dhm.strtools.TokenizeError</span>: <span class="n">Unexecpted end of string in quoted text</span>
</pre></div>
</div>
<p>&#64;param        str: string to tokenize
&#64;type         str: string
&#64;param whitespace: whitespace characters seperating tokens
&#64;type  whitespace: string
&#64;param     quotes: legal quoting characters
&#64;type      quotes: string
&#64;param    escapes: characters which can escape quoting characters
&#64;type     escapes: string
&#64;return: list of tokens
&#64;rtype:  sequence of strings</p>
</dd></dl>

<dl class="exception">
<dt id="dnf.yum.sqlutils.TokenizeError">
<em class="property">exception </em><tt class="descclassname">dnf.yum.sqlutils.</tt><tt class="descname">TokenizeError</tt><a class="headerlink" href="#dnf.yum.sqlutils.TokenizeError" title="Permalink to this definition">¶</a></dt>
<dd><p>Tokenizer error class</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.sqlutils.executeSQL">
<tt class="descclassname">dnf.yum.sqlutils.</tt><tt class="descname">executeSQL</tt><big>(</big><em>cursor</em>, <em>query</em>, <em>params=None</em><big>)</big><a class="headerlink" href="#dnf.yum.sqlutils.executeSQL" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a python 2.5 (sqlite3) style query.</p>
<p>&#64;param cursor: A sqlite cursor
&#64;param query: The query to execute
&#64;param params: An optional list of parameters to the query</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.sqlutils.executeSQLPyFormat">
<tt class="descclassname">dnf.yum.sqlutils.</tt><tt class="descname">executeSQLPyFormat</tt><big>(</big><em>cursor</em>, <em>query</em>, <em>params=None</em><big>)</big><a class="headerlink" href="#dnf.yum.sqlutils.executeSQLPyFormat" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a python &lt; 2.5 (external sqlite module) style query.</p>
<p>&#64;param cursor: A sqlite cursor
&#64;param query: The query to execute
&#64;param params: An optional list of parameters to the query</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.sqlutils.executeSQLQmark">
<tt class="descclassname">dnf.yum.sqlutils.</tt><tt class="descname">executeSQLQmark</tt><big>(</big><em>cursor</em>, <em>query</em>, <em>params=None</em><big>)</big><a class="headerlink" href="#dnf.yum.sqlutils.executeSQLQmark" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a python 2.5 (sqlite3) style query.</p>
<p>&#64;param cursor: A sqlite cursor
&#64;param query: The query to execute
&#64;param params: An optional list of parameters to the query</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.sqlutils.sql_esc">
<tt class="descclassname">dnf.yum.sqlutils.</tt><tt class="descname">sql_esc</tt><big>(</big><em>pattern</em><big>)</big><a class="headerlink" href="#dnf.yum.sqlutils.sql_esc" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply SQLite escaping, if needed. Returns pattern and esc.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.sqlutils.sql_esc_glob">
<tt class="descclassname">dnf.yum.sqlutils.</tt><tt class="descname">sql_esc_glob</tt><big>(</big><em>patterns</em><big>)</big><a class="headerlink" href="#dnf.yum.sqlutils.sql_esc_glob" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts patterns to SQL LIKE format, if required (or gives up if
not possible).</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.transactioninfo">
<span id="dnf-yum-transactioninfo"></span><h2><a class="toc-backref" href="#id25">dnf.yum.transactioninfo</a><a class="headerlink" href="#module-dnf.yum.transactioninfo" title="Permalink to this headline">¶</a></h2>
<p>Classes and functions for manipulating a transaction to be passed
to rpm.</p>
<dl class="class">
<dt id="dnf.yum.transactioninfo.SortableTransactionData">
<em class="property">class </em><tt class="descclassname">dnf.yum.transactioninfo.</tt><tt class="descname">SortableTransactionData</tt><a class="headerlink" href="#dnf.yum.transactioninfo.SortableTransactionData" title="Permalink to this definition">¶</a></dt>
<dd><p>A transaction data implementing topological sort on it&#8217;s members</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.transactioninfo.TransactionData">
<em class="property">class </em><tt class="descclassname">dnf.yum.transactioninfo.</tt><tt class="descname">TransactionData</tt><big>(</big><em>prob_filter_flags=None</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData" title="Permalink to this definition">¶</a></dt>
<dd><p>Data Structure designed to hold information on a yum Transaction Set</p>
<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.add">
<tt class="descname">add</tt><big>(</big><em>txmember</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.add" title="Permalink to this definition">¶</a></dt>
<dd><p>add a package to the transaction</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.addDowngrade">
<tt class="descname">addDowngrade</tt><big>(</big><em>po</em>, <em>oldpo=None</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.addDowngrade" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a package as an downgrade takes a packages object and returns
a pair of TransactionMember Objects</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.addErase">
<tt class="descname">addErase</tt><big>(</big><em>po</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.addErase" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a package as an erasure
takes a packages object and returns a TransactionMember Object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.addInstall">
<tt class="descname">addInstall</tt><big>(</big><em>po</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.addInstall" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a package as an install but in mode &#8216;u&#8217; to the ts
takes a packages object and returns a TransactionMember Object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.addObsoleted">
<tt class="descname">addObsoleted</tt><big>(</big><em>po</em>, <em>obsoleting_po</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.addObsoleted" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a package as being obsoleted by another pkg
takes a packages object and returns a TransactionMember Object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.addObsoleting">
<tt class="descname">addObsoleting</tt><big>(</big><em>po</em>, <em>oldpo</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.addObsoleting" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a package as an obsolete over another pkg
takes a packages object and returns a TransactionMember Object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.addTrueInstall">
<tt class="descname">addTrueInstall</tt><big>(</big><em>po</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.addTrueInstall" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a package as an install
takes a packages object and returns a TransactionMember Object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.addUpdate">
<tt class="descname">addUpdate</tt><big>(</big><em>po</em>, <em>oldpo=None</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.addUpdate" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a package as an update
takes a packages object and returns a TransactionMember Object</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.deselect">
<tt class="descname">deselect</tt><big>(</big><em>pattern</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.deselect" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove these packages from the transaction. This is more user
orientated than .remove(). Used from kickstart/install -blah.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.exists">
<tt class="descname">exists</tt><big>(</big><em>pkgtup</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>tells if the pkg is in the class</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.findObsoletedByThisMember">
<tt class="descname">findObsoletedByThisMember</tt><big>(</big><em>txmbr</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.findObsoletedByThisMember" title="Permalink to this definition">¶</a></dt>
<dd><p>addObsoleted() pkgs for anything that this txmbr will obsolete</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.getMembers">
<tt class="descname">getMembers</tt><big>(</big><em>pkgtup=None</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.getMembers" title="Permalink to this definition">¶</a></dt>
<dd><p>takes an optional package tuple and returns all transaction members
matching, no pkgtup means it returns all transaction members</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.getMode">
<tt class="descname">getMode</tt><big>(</big><em>name=None</em>, <em>arch=None</em>, <em>epoch=None</em>, <em>ver=None</em>, <em>rel=None</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.getMode" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the mode of the first match from the transaction set,
otherwise, returns None</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.getNewProvides">
<tt class="descname">getNewProvides</tt><big>(</big><em>name</em>, <em>flag=None</em>, <em>version=(None</em>, <em>None</em>, <em>None)</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.getNewProvides" title="Permalink to this definition">¶</a></dt>
<dd><p>return dict { packages -&gt; list of matching provides }
searches in packages to be installed</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.getNewRequires">
<tt class="descname">getNewRequires</tt><big>(</big><em>name</em>, <em>flag=None</em>, <em>version=(None</em>, <em>None</em>, <em>None)</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.getNewRequires" title="Permalink to this definition">¶</a></dt>
<dd><p>return dict { packages -&gt; list of matching provides }
searches in packages to be installed</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.getOldProvides">
<tt class="descname">getOldProvides</tt><big>(</big><em>name</em>, <em>flag=None</em>, <em>version=(None</em>, <em>None</em>, <em>None)</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.getOldProvides" title="Permalink to this definition">¶</a></dt>
<dd><p>return dict { packages -&gt; list of matching provides }
searches in packages already installed and not going to be removed</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.getOldRequires">
<tt class="descname">getOldRequires</tt><big>(</big><em>name</em>, <em>flag=None</em>, <em>version=(None</em>, <em>None</em>, <em>None)</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.getOldRequires" title="Permalink to this definition">¶</a></dt>
<dd><p>return dict { packages -&gt; list of matching provides }
searches in packages already installed and not going to be removed</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.getProvides">
<tt class="descname">getProvides</tt><big>(</big><em>name</em>, <em>flag=None</em>, <em>version=(None</em>, <em>None</em>, <em>None)</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.getProvides" title="Permalink to this definition">¶</a></dt>
<dd><p>return dict { packages -&gt; list of matching provides }</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.getRequires">
<tt class="descname">getRequires</tt><big>(</big><em>name</em>, <em>flag=None</em>, <em>version=(None</em>, <em>None</em>, <em>None)</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.getRequires" title="Permalink to this definition">¶</a></dt>
<dd><p>return dict { packages -&gt; list of matching provides }</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.isObsoleted">
<tt class="descname">isObsoleted</tt><big>(</big><em>pkgtup</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.isObsoleted" title="Permalink to this definition">¶</a></dt>
<dd><p>true if the pkgtup is marked to be obsoleted</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.makelists">
<tt class="descname">makelists</tt><big>(</big><em>include_reinstall=False</em>, <em>include_downgrade=False</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.makelists" title="Permalink to this definition">¶</a></dt>
<dd><p>returns lists of transaction Member objects based on mode:
updated, installed, erased, obsoleted, depupdated, depinstalled
deperased</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.matchNaevr">
<tt class="descname">matchNaevr</tt><big>(</big><em>name=None</em>, <em>arch=None</em>, <em>epoch=None</em>, <em>ver=None</em>, <em>rel=None</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.matchNaevr" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the list of packages matching the args above</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionData.remove">
<tt class="descname">remove</tt><big>(</big><em>pkgtup</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionData.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a package from the transaction</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.transactioninfo.TransactionMember">
<em class="property">class </em><tt class="descclassname">dnf.yum.transactioninfo.</tt><tt class="descname">TransactionMember</tt><big>(</big><em>po</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionMember" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to describe a Transaction Member (a pkg to be installed/
updated/erased).</p>
<dl class="method">
<dt id="dnf.yum.transactioninfo.TransactionMember.setAsDep">
<tt class="descname">setAsDep</tt><big>(</big><em>po=None</em><big>)</big><a class="headerlink" href="#dnf.yum.transactioninfo.TransactionMember.setAsDep" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the transaction member as a dependency and maps the dep into the
relationship list attribute</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dnf.yum.update_md">
<span id="dnf-yum-update-md"></span><h2><a class="toc-backref" href="#id26">dnf.yum.update_md</a><a class="headerlink" href="#module-dnf.yum.update_md" title="Permalink to this headline">¶</a></h2>
<p>Update metadata (updateinfo.xml) parsing.</p>
<dl class="class">
<dt id="dnf.yum.update_md.UpdateMetadata">
<em class="property">class </em><tt class="descclassname">dnf.yum.update_md.</tt><tt class="descname">UpdateMetadata</tt><big>(</big><em>repos=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#dnf.yum.update_md.UpdateMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>The root update metadata object.</p>
<dl class="method">
<dt id="dnf.yum.update_md.UpdateMetadata.add">
<tt class="descname">add</tt><big>(</big><em>obj</em>, <em>mdtype='updateinfo'</em><big>)</big><a class="headerlink" href="#dnf.yum.update_md.UpdateMetadata.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a metadata from a given YumRepository, file, or filename.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.update_md.UpdateMetadata.add_notice">
<tt class="descname">add_notice</tt><big>(</big><em>un</em><big>)</big><a class="headerlink" href="#dnf.yum.update_md.UpdateMetadata.add_notice" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an UpdateNotice object. This should be fully populated with
data, esp. update_id and pkglist/packages.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.update_md.UpdateMetadata.get_applicable_notices">
<tt class="descname">get_applicable_notices</tt><big>(</big><em>pkgtup</em><big>)</big><a class="headerlink" href="#dnf.yum.update_md.UpdateMetadata.get_applicable_notices" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve any update notices which are newer than a
given std. pkgtup (name, arch, epoch, version, release) tuple.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of (pkgtup, notice) that are newer than the given pkgtup,
in the order of newest pkgtups first.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.update_md.UpdateMetadata.get_notice">
<tt class="descname">get_notice</tt><big>(</big><em>nvr</em><big>)</big><a class="headerlink" href="#dnf.yum.update_md.UpdateMetadata.get_notice" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve an update notice for a given (name, version, release) string
or tuple.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.update_md.UpdateMetadata.get_notices">
<tt class="descname">get_notices</tt><big>(</big><em>name=None</em><big>)</big><a class="headerlink" href="#dnf.yum.update_md.UpdateMetadata.get_notices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all notices.</p>
</dd></dl>

<dl class="attribute">
<dt id="dnf.yum.update_md.UpdateMetadata.notices">
<tt class="descname">notices</tt><a class="headerlink" href="#dnf.yum.update_md.UpdateMetadata.notices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all notices.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dnf.yum.update_md.UpdateNotice">
<em class="property">class </em><tt class="descclassname">dnf.yum.update_md.</tt><tt class="descname">UpdateNotice</tt><big>(</big><em>elem=None</em><big>)</big><a class="headerlink" href="#dnf.yum.update_md.UpdateNotice" title="Permalink to this definition">¶</a></dt>
<dd><p>A single update notice (for instance, a security fix).</p>
<dl class="method">
<dt id="dnf.yum.update_md.UpdateNotice.get_metadata">
<tt class="descname">get_metadata</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.update_md.UpdateNotice.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the metadata dict.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.update_md.UpdateNotice.xml">
<tt class="descname">xml</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.update_md.UpdateNotice.xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the xml for this update notice object</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="dnf.yum.update_md.UpdateNoticeException">
<em class="property">exception </em><tt class="descclassname">dnf.yum.update_md.</tt><tt class="descname">UpdateNoticeException</tt><a class="headerlink" href="#dnf.yum.update_md.UpdateNoticeException" title="Permalink to this definition">¶</a></dt>
<dd><p>An exception thrown for bad UpdateNotice data.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.update_md.main">
<tt class="descclassname">dnf.yum.update_md.</tt><tt class="descname">main</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.update_md.main" title="Permalink to this definition">¶</a></dt>
<dd><p>update_md test function.</p>
</dd></dl>

<dl class="function">
<dt id="dnf.yum.update_md.safe_iterparse">
<tt class="descclassname">dnf.yum.update_md.</tt><tt class="descname">safe_iterparse</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#dnf.yum.update_md.safe_iterparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Works like iterparse, but hides XML errors (prints a warning).</p>
</dd></dl>

</div>
<div class="section" id="module-dnf.yum.yumRepo">
<span id="dnf-yum-yumrepo"></span><h2><a class="toc-backref" href="#id27">dnf.yum.yumRepo</a><a class="headerlink" href="#module-dnf.yum.yumRepo" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dnf.yum.yumRepo.RepoVerifyProblem">
<em class="property">class </em><tt class="descclassname">dnf.yum.yumRepo.</tt><tt class="descname">RepoVerifyProblem</tt><big>(</big><em>type</em>, <em>msg</em>, <em>details</em>, <em>fake=False</em><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.RepoVerifyProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Holder for each &#8220;problem&#8221; we find with a repo.verify().</p>
</dd></dl>

<dl class="class">
<dt id="dnf.yum.yumRepo.YumRepository">
<em class="property">class </em><tt class="descclassname">dnf.yum.yumRepo.</tt><tt class="descname">YumRepository</tt><big>(</big><em>repoid</em><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an actual repository object</p>
<p>Configuration attributes are pulled in from config.RepoConf.</p>
<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.check">
<tt class="descname">check</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.check" title="Permalink to this definition">¶</a></dt>
<dd><p>self-check the repo information  - if we don&#8217;t have enough to move
on then raise a repo error</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.checkMD">
<tt class="descname">checkMD</tt><big>(</big><em>fn</em>, <em>mdtype</em>, <em>openchecksum=False</em><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.checkMD" title="Permalink to this definition">¶</a></dt>
<dd><p>check the metadata type against its checksum</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.dirSetup">
<tt class="descname">dirSetup</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.dirSetup" title="Permalink to this definition">¶</a></dt>
<dd><p>make the necessary dirs, if possible, raise on failure</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.disablePersistent">
<tt class="descname">disablePersistent</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.disablePersistent" title="Permalink to this definition">¶</a></dt>
<dd><p>Persistently disables this repository.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.enablePersistent">
<tt class="descname">enablePersistent</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.enablePersistent" title="Permalink to this definition">¶</a></dt>
<dd><p>Persistently enables this repository.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.getFileListsXML">
<tt class="descname">getFileListsXML</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.getFileListsXML" title="Permalink to this definition">¶</a></dt>
<dd><p>this gets you the path to the filelists.xml file, retrieving it if we
need a new one</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.getGroupLocation">
<tt class="descname">getGroupLocation</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.getGroupLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the location of the group.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.getGroups">
<tt class="descname">getGroups</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.getGroups" title="Permalink to this definition">¶</a></dt>
<dd><p>gets groups and returns group file path for the repository, if there
is none it returns None</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.getPrimaryXML">
<tt class="descname">getPrimaryXML</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.getPrimaryXML" title="Permalink to this definition">¶</a></dt>
<dd><p>this gets you the path to the primary.xml file, retrieving it if we
need a new one</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.metadataCurrent">
<tt class="descname">metadataCurrent</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.metadataCurrent" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if there is a metadata_cookie and check its age. If the
age of the cookie is less than metadata_expire time then return true
else return False. This result is cached, so that metalink/repomd.xml
are synchronized.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.metadata_expire_in">
<tt class="descname">metadata_expire_in</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.metadata_expire_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of seconds after which the metadata will expire.</p>
<p>Returns a tuple, boolean whether the information can be obtained and
the number of seconds. Negative number means the metadata has
expired already.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.ready">
<tt class="descname">ready</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if this repository is setup and ready for use.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.retrieveMD">
<tt class="descname">retrieveMD</tt><big>(</big><em>mdtype</em><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.retrieveMD" title="Permalink to this definition">¶</a></dt>
<dd><p>base function to retrieve metadata files from the remote url
returns the path to the local metadata file of a &#8216;mdtype&#8217;
mdtype can be &#8216;primary&#8217;, &#8216;filelists&#8217;, &#8216;other&#8217; or &#8216;group&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.setMetadataCookie">
<tt class="descname">setMetadataCookie</tt><big>(</big><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.setMetadataCookie" title="Permalink to this definition">¶</a></dt>
<dd><p>if possible, set touch the metadata_cookie file</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.verify">
<tt class="descname">verify</tt><big>(</big><em>items=['repodata', 'comps']</em><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>download/verify the specified items
&#64;items = [&#8216;repodata&#8217;, &#8216;comps&#8217;] can include: repodata, comps, packages</p>
</dd></dl>

<dl class="method">
<dt id="dnf.yum.yumRepo.YumRepository.withinCacheAge">
<tt class="descname">withinCacheAge</tt><big>(</big><em>myfile</em>, <em>expiration_time</em><big>)</big><a class="headerlink" href="#dnf.yum.yumRepo.YumRepository.withinCacheAge" title="Permalink to this definition">¶</a></dt>
<dd><p>check if any file is older than a certain amount of time. Used for
the cachecookie and the mirrorlist
return True if w/i the expiration time limit
false if the time limit has expired</p>
<p>Additionally compare the file to age of the newest .repo or yum.conf
file. If any of them are newer then invalidate the cache</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">dnf.yum Reference</a><ul>
<li><a class="reference internal" href="#module-dnf.yum">dnf.yum</a></li>
<li><a class="reference internal" href="#module-dnf.yum.callbacks">dnf.yum.callbacks</a></li>
<li><a class="reference internal" href="#module-dnf.yum.comps">dnf.yum.comps</a></li>
<li><a class="reference internal" href="#module-dnf.yum.config">dnf.yum.config</a></li>
<li><a class="reference internal" href="#module-dnf.yum.constants">dnf.constants</a></li>
<li><a class="reference internal" href="#module-dnf.yum.Errors">dnf.yum.Errors</a></li>
<li><a class="reference internal" href="#module-dnf.yum.failover">dnf.yum.failover</a></li>
<li><a class="reference internal" href="#module-dnf.yum.history">dnf.yum.history</a></li>
<li><a class="reference internal" href="#module-dnf.yum.i18n">dnf.yum.i18n</a></li>
<li><a class="reference internal" href="#module-dnf.yum.logginglevels">dnf.yum.logginglevels</a></li>
<li><a class="reference internal" href="#module-dnf.yum.mdparser">dnf.yum.mdparser</a></li>
<li><a class="reference internal" href="#module-dnf.yum.metalink">dnf.yum.metalink</a></li>
<li><a class="reference internal" href="#module-dnf.yum.misc">dnf.yum.misc</a></li>
<li><a class="reference internal" href="#module-dnf.yum.packages">dnf.yum.packages</a></li>
<li><a class="reference internal" href="#module-dnf.yum.parser">dnf.yum.parser</a></li>
<li><a class="reference internal" href="#module-dnf.yum.pgpmsg">dnf.yum.pgpmsg</a></li>
<li><a class="reference internal" href="#module-dnf.yum.pkgtag_db">dnf.yum.pkgtag_db</a></li>
<li><a class="reference internal" href="#module-dnf.yum.plugins">dnf.yum.plugins</a></li>
<li><a class="reference internal" href="#module-dnf.yum.repoMDObject">dnf.yum.repoMDObject</a></li>
<li><a class="reference internal" href="#module-dnf.yum.repos">dnf.yum.repos</a></li>
<li><a class="reference internal" href="#module-dnf.yum.rpmsack">dnf.yum.rpmsack</a></li>
<li><a class="reference internal" href="#module-dnf.yum.rpmtrans">dnf.yum.rpmtrans</a></li>
<li><a class="reference internal" href="#module-dnf.yum.sqlutils">dnf.yum.sqlutils</a></li>
<li><a class="reference internal" href="#module-dnf.yum.transactioninfo">dnf.yum.transactioninfo</a></li>
<li><a class="reference internal" href="#module-dnf.yum.update_md">dnf.yum.update_md</a></li>
<li><a class="reference internal" href="#module-dnf.yum.yumRepo">dnf.yum.yumRepo</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="api_dnf.html"
                        title="previous chapter">dnf Reference</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api_dnf.rpmUtils.html"
                        title="next chapter">dnf.rpmUtils Reference</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api_dnf.yum.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api_dnf.rpmUtils.html" title="dnf.rpmUtils Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="api_dnf.html" title="dnf Reference"
             >previous</a> |</li>
        <li><a href="index.html">DNF 0.2.11-1 documentation</a> &raquo;</li>
          <li><a href="api.html" >DNF API Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Red Hat.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>